<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-10-03">
<meta name="description" content="Offline di Departemen Matematika">

<title>Lab Praktikum Departemen Matematika FMIPA UI - Modul 2 Sains Data: Eksplorasi, Visualisasi, dan Preprocessing Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../../">
<script src="../../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../../../index.html">
    <span class="navbar-title">Lab Praktikum Departemen Matematika FMIPA UI</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../semuahalaman/about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../semuahalaman/praktikum.html"> 
<span class="menu-text">Praktikum</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../semuahalaman/Announcement.html"> 
<span class="menu-text">Announcement</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../semuahalaman/Jadwal.html"> 
<span class="menu-text">Informasi Praktikum Departemen Matematika</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#prerequisites" id="toc-prerequisites" class="nav-link active" data-scroll-target="#prerequisites">Prerequisites</a>
  <ul class="collapse">
  <li><a href="#import-module" id="toc-import-module" class="nav-link" data-scroll-target="#import-module">Import Module</a></li>
  <li><a href="#import-data" id="toc-import-data" class="nav-link" data-scroll-target="#import-data">Import Data</a></li>
  </ul></li>
  <li><a href="#review-matplotlib" id="toc-review-matplotlib" class="nav-link" data-scroll-target="#review-matplotlib">Review Matplotlib</a></li>
  <li><a href="#pengenalan-seaborn" id="toc-pengenalan-seaborn" class="nav-link" data-scroll-target="#pengenalan-seaborn">Pengenalan Seaborn</a>
  <ul class="collapse">
  <li><a href="#line-plot" id="toc-line-plot" class="nav-link" data-scroll-target="#line-plot">Line Plot</a></li>
  <li><a href="#bar-plot" id="toc-bar-plot" class="nav-link" data-scroll-target="#bar-plot">Bar Plot</a></li>
  <li><a href="#heatmap" id="toc-heatmap" class="nav-link" data-scroll-target="#heatmap">Heatmap</a></li>
  <li><a href="#scatter-plot" id="toc-scatter-plot" class="nav-link" data-scroll-target="#scatter-plot">Scatter Plot</a></li>
  <li><a href="#box-plot-dan-swarm-plot" id="toc-box-plot-dan-swarm-plot" class="nav-link" data-scroll-target="#box-plot-dan-swarm-plot">Box Plot dan Swarm Plot</a></li>
  <li><a href="#histogram-dan-density-plot" id="toc-histogram-dan-density-plot" class="nav-link" data-scroll-target="#histogram-dan-density-plot">Histogram dan Density Plot</a></li>
  <li><a href="#joint-plot" id="toc-joint-plot" class="nav-link" data-scroll-target="#joint-plot">Joint Plot</a></li>
  </ul></li>
  <li><a href="#panduan-pemilihan-plot" id="toc-panduan-pemilihan-plot" class="nav-link" data-scroll-target="#panduan-pemilihan-plot">Panduan Pemilihan Plot</a></li>
  <li><a href="#encoding-data-kategorik" id="toc-encoding-data-kategorik" class="nav-link" data-scroll-target="#encoding-data-kategorik">Encoding Data Kategorik</a>
  <ul class="collapse">
  <li><a href="#encoding-data-nominal-dengan-one-hot-encoding" id="toc-encoding-data-nominal-dengan-one-hot-encoding" class="nav-link" data-scroll-target="#encoding-data-nominal-dengan-one-hot-encoding">Encoding Data Nominal dengan One-Hot Encoding</a></li>
  <li><a href="#encoding-data-ordinal-dengan-label-encoding-ordinal-encoding-todo" id="toc-encoding-data-ordinal-dengan-label-encoding-ordinal-encoding-todo" class="nav-link" data-scroll-target="#encoding-data-ordinal-dengan-label-encoding-ordinal-encoding-todo">Encoding Data Ordinal dengan Label Encoding &amp; Ordinal Encoding (TODO)</a></li>
  </ul></li>
  <li><a href="#mengatasi-missing-value-dengan-metode-imputasi" id="toc-mengatasi-missing-value-dengan-metode-imputasi" class="nav-link" data-scroll-target="#mengatasi-missing-value-dengan-metode-imputasi">Mengatasi Missing Value dengan Metode Imputasi</a>
  <ul class="collapse">
  <li><a href="#median" id="toc-median" class="nav-link" data-scroll-target="#median">Median</a></li>
  <li><a href="#modus" id="toc-modus" class="nav-link" data-scroll-target="#modus">Modus</a></li>
  <li><a href="#mean" id="toc-mean" class="nav-link" data-scroll-target="#mean">Mean</a></li>
  <li><a href="#knn-imputer" id="toc-knn-imputer" class="nav-link" data-scroll-target="#knn-imputer">KNN Imputer</a></li>
  <li><a href="#perbandingan-metode-imputasi" id="toc-perbandingan-metode-imputasi" class="nav-link" data-scroll-target="#perbandingan-metode-imputasi">Perbandingan Metode Imputasi</a></li>
  <li><a href="#export-dataframe-yang-telah-diimputasi-ke-csv" id="toc-export-dataframe-yang-telah-diimputasi-ke-csv" class="nav-link" data-scroll-target="#export-dataframe-yang-telah-diimputasi-ke-csv">Export Dataframe yang telah diimputasi ke CSV</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Modul 2 Sains Data: Eksplorasi, Visualisasi, dan Preprocessing Data</h1>
<p class="subtitle lead">Visualisasi Data dengan Matplotlib &amp; Seaborn, Encoding Data Kategorik, Imputasi Missing Values</p>
</div>

<div>
  <div class="description">
    Offline di Departemen Matematika
  </div>
</div>


<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 3, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>Kembali ke <a href="./saindat2024genap.qmd">Sains Data</a></p>
<p>Pada modul ini kita akan mempelajari beberapa cara untuk membuat visualisasi data menggunakan package Matplotlib dan Seaborn. Seaborn merupakan salah satu package visualisasi data yang sangat sering digunakan karena fleksibilitas dan banyaknya jenis plot yang disediakan. Setelah itu akan dikenalkan metode-metode pada preprocessing seperti encoding data kategorik, imputasi missing values, dan mengatasi dataset unbalanced dengan teknik resampling.</p>
<section id="prerequisites" class="level1">
<h1>Prerequisites</h1>
<section id="import-module" class="level2">
<h2 class="anchored" data-anchor-id="import-module">Import Module</h2>
<p>Sebelum memulai, mari kita import terlebih dahulu module - module yang diperlukan.</p>
<div id="f3ebab61" class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="import-data" class="level2">
<h2 class="anchored" data-anchor-id="import-data">Import Data</h2>
<p>Pada module kali ini, akan digunakan tiga data csv yang berbeda untuk mempermudah kebutuhan visualisasi, yaitu:</p>
<ol type="1">
<li><p>Spotify Dataset (<code>spotify.csv</code>), bisa di-<em>download</em> dari</p>
<ul>
<li><p><a href="spotify.csv">Direct link (langsung dari GitHub Pages ini)</a></p></li>
<li><p><a href="https://www.kaggle.com/code/alexisbcook/hello-seaborn/data?select=spotify.csv">Kaggle</a></p></li>
<li><p>Google Drive: <a href="https://bit.ly/DataWeek2" class="uri">https://bit.ly/DataWeek2</a> atau <a href="https://drive.google.com/drive/folders/1W3jW1Tt8jfBFK8KfQYul179lfynd3B7A">langsung</a></p></li>
</ul></li>
<li><p>Flight Delays Dataset (<code>flight_delays.csv</code>), bisa di-<em>download</em> dari</p>
<ul>
<li><p><a href="flight_delays.csv">Direct link (langsung dari GitHub Pages ini)</a></p></li>
<li><p><a href="https://www.kaggle.com/code/alexisbcook/hello-seaborn/data?select=flight_delays.csv">Kaggle</a></p></li>
<li><p>Google Drive: <a href="https://bit.ly/DataWeek2" class="uri">https://bit.ly/DataWeek2</a> atau <a href="https://drive.google.com/drive/folders/1W3jW1Tt8jfBFK8KfQYul179lfynd3B7A">langsung</a></p></li>
</ul></li>
<li><p>Insurance Dataset (<code>insurance.csv</code>), bisa di-<em>download</em> dari</p>
<ul>
<li><p><a href="insurance.csv">Direct link (langsung dari GitHub Pages ini)</a></p></li>
<li><p><a href="https://www.kaggle.com/code/alexisbcook/hello-seaborn/data?select=insurance.csv">Kaggle</a></p></li>
<li><p>Google Drive: <a href="https://bit.ly/DataWeek2" class="uri">https://bit.ly/DataWeek2</a> atau <a href="https://drive.google.com/drive/folders/1W3jW1Tt8jfBFK8KfQYul179lfynd3B7A">langsung</a></p></li>
</ul></li>
</ol>
<p>atau langsung <em>download</em> ketiganya sekaligus, bisa dari:</p>
<ul>
<li>Google Drive: <a href="https://bit.ly/DataWeek2" class="uri">https://bit.ly/DataWeek2</a> atau <a href="https://drive.google.com/drive/folders/1W3jW1Tt8jfBFK8KfQYul179lfynd3B7A">langsung</a></li>
</ul>
<p>Kemudian, baca tiap CSV sebagai dataframe:</p>
<div id="42ec25fb" class="cell" data-execution_count="156">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>spotify_df <span class="op">=</span> pd.read_csv(<span class="st">"./spotify.csv"</span>,</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>                         index_col<span class="op">=</span><span class="st">'Date'</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>                         parse_dates<span class="op">=</span>[<span class="st">'Date'</span>])</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>flight_df <span class="op">=</span> pd.read_csv(<span class="st">"./flight_delays.csv"</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>insurance_df <span class="op">=</span> pd.read_csv(<span class="st">"./insurance.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="review-matplotlib" class="level1">
<h1>Review Matplotlib</h1>
<p>Seperti yang sudah dipelajari pada Algoritma dan Pemrograman, visualisasi data dapat dilakukan dengan module matplotlib, antara lain untuk membuat line plot dan scatter plot.</p>
<p>Pertama, kita akan menggunakan data Spotify, yaitu data total daily streams 5 lagu hits pada masanya.</p>
<div id="98999889" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>spotify_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Shape of You</th>
<th data-quarto-table-cell-role="th">Despacito</th>
<th data-quarto-table-cell-role="th">Something Just Like This</th>
<th data-quarto-table-cell-role="th">HUMBLE.</th>
<th data-quarto-table-cell-role="th">Unforgettable</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2017-01-06</td>
<td>12287078</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2017-01-07</td>
<td>13190270</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2017-01-08</td>
<td>13099919</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2017-01-09</td>
<td>14506351</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2017-01-10</td>
<td>14275628</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2018-01-05</td>
<td>4492978</td>
<td>3450315.0</td>
<td>2408365.0</td>
<td>2685857.0</td>
<td>2869783.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2018-01-06</td>
<td>4416476</td>
<td>3394284.0</td>
<td>2188035.0</td>
<td>2559044.0</td>
<td>2743748.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2018-01-07</td>
<td>4009104</td>
<td>3020789.0</td>
<td>1908129.0</td>
<td>2350985.0</td>
<td>2441045.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2018-01-08</td>
<td>4135505</td>
<td>2755266.0</td>
<td>2023251.0</td>
<td>2523265.0</td>
<td>2622693.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2018-01-09</td>
<td>4168506</td>
<td>2791601.0</td>
<td>2058016.0</td>
<td>2727678.0</td>
<td>2627334.0</td>
</tr>
</tbody>
</table>

<p>366 rows × 5 columns</p>
</div>
</div>
</div>
</div>
<p>Catatan:</p>
<ul>
<li>Shape of You dirilis tanggal 6 Januari 2017.</li>
<li>Despacito dirilis tanggal 13 Januari 2017.</li>
<li>Something Just Like This dirilis tanggal 22 Februari 2017.</li>
<li>HUMBLE. dirilis tanggal 30 Maret 2017.</li>
<li>Unforgettable dirilis tanggal 7 April 2017.</li>
</ul>
<p>Perhatikan bahwa ada beberapa data NaN (<em>not a number</em>), artinya tidak ada data (<em>missing data</em>).</p>
<div id="9db68ba7" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>spotify_df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
DatetimeIndex: 366 entries, 2017-01-06 to 2018-01-09
Data columns (total 5 columns):
 #   Column                    Non-Null Count  Dtype  
---  ------                    --------------  -----  
 0   Shape of You              366 non-null    int64  
 1   Despacito                 359 non-null    float64
 2   Something Just Like This  319 non-null    float64
 3   HUMBLE.                   282 non-null    float64
 4   Unforgettable             275 non-null    float64
dtypes: float64(4), int64(1)
memory usage: 17.2 KB</code></pre>
</div>
</div>
<div id="28c4e702" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>spotify_df.isna()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Shape of You</th>
<th data-quarto-table-cell-role="th">Despacito</th>
<th data-quarto-table-cell-role="th">Something Just Like This</th>
<th data-quarto-table-cell-role="th">HUMBLE.</th>
<th data-quarto-table-cell-role="th">Unforgettable</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2017-01-06</td>
<td>False</td>
<td>True</td>
<td>True</td>
<td>True</td>
<td>True</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2017-01-07</td>
<td>False</td>
<td>True</td>
<td>True</td>
<td>True</td>
<td>True</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2017-01-08</td>
<td>False</td>
<td>True</td>
<td>True</td>
<td>True</td>
<td>True</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2017-01-09</td>
<td>False</td>
<td>True</td>
<td>True</td>
<td>True</td>
<td>True</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2017-01-10</td>
<td>False</td>
<td>True</td>
<td>True</td>
<td>True</td>
<td>True</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2018-01-05</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2018-01-06</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2018-01-07</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2018-01-08</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2018-01-09</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
</tbody>
</table>

<p>366 rows × 5 columns</p>
</div>
</div>
</div>
</div>
<div id="7bd0a0f2" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>spotify_df.isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>Shape of You                 0
Despacito                    7
Something Just Like This    47
HUMBLE.                     84
Unforgettable               91
dtype: int64</code></pre>
</div>
</div>
<p>Cara menangani <em>missing values</em> tergantung konteks. Di sini, lagu-lagu dengan data NaN pada tanggal tertentu memang belum dirilis.</p>
<ul>
<li>Untuk analisis <em>trend</em> tiap lagu sejak dirilis, sebaiknya data NaN dibiarkan saja.</li>
<li>Untuk analisis frekuensi <em>streaming</em>, data NaN bisa diganti jadi nol. (Hati-hati, jangan sampai nantinya lupa dan malah terpikir “kok bisa ya lagu ini ga didengerin sama sekali”)</li>
<li>Apabila semua lagu ingin dibandingkan datanya di masa sudah rilis semua, sebaiknya baris-baris dengan data NaN itu dihapus.</li>
</ul>
<p>Kali ini, kita akan memperhatikan <em>trend</em> tiap lagu, sehingga data NaN kita biarkan saja.</p>
<p>Berikut adalah cara untuk membuat line plot pada satu fitur di dataframe menggunakan matplotlib</p>
<div id="690af251" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co">Membuat line plot untuk lagu Shape of You menggunakan matplotlib</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Mengatur besar figur plot</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">6</span>))</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Membuat line plot</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>plt.plot(spotify_df[<span class="st">'Shape of You'</span>], <span class="st">'b'</span>)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Membuat label sumbu-x dan sumbu-y</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Date'</span>)</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Shape of You Total Daily Streams'</span>)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Menampilkan plot</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-8-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Apabila kita ingin menampilkan fitur-fitur lain dalam figur yang sama, kita dapat memanfaatkan loop</p>
<div id="066ef34e" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co">Membuat line plot untuk semua lagu dalam spotify_df menggunakan loop</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">6</span>))</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop setiap nama kolom pada dataframe, lalu plot</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> column <span class="kw">in</span> spotify_df.columns:</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    plt.plot(spotify_df[column])</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>plt.legend(spotify_df.columns)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-9-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Namun, terdapat cara yang lebih mudah selain menggunakan looping. pandas dataframe memiliki method yang dapat secara langsung memvisualisasikan keseluruhan fiturnya, yaitu <code>.plot()</code>.</p>
<p>Pada <code>.plot()</code> kita memiliki beberapa parameter yang dapat diatur, antara lain <code>kind</code> dan <code>figsize</code>. <code>kind</code> berfungsi untuk mengatur jenis plot yang ingin kita buat, sedangkan <code>figsize</code> berfungsi untuk mengatur besar figur yang dihasilkan.</p>
<p>Parameter lainnya dapat dilihat pada:</p>
<p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.html" class="uri">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.html</a></p>
<div id="67234580" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co">Membuat line plot untuk semua lagu dalam spotify_df menggunakan pandas .plot()</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>spotify_df.plot(kind<span class="op">=</span><span class="st">'line'</span>, figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">6</span>))</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Date'</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Total Daily Streams'</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-10-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Selain line plot, terdapat banyak macam <code>kind</code> yang bisa digunakan. Pada code cell dibawah terlihat bahwa pandas <code>.plot()</code> dapat menghasilkan histogram (perlu diperhatikan bahwa jenis plot perlu menyesuaikan tipe data yang dimiliki, terlihat bahwa menggunakan data spotify, histogram tidak menghasilkan insight yang cukup berguna).</p>
<div id="c2c08ee0" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>spotify_df.plot(kind<span class="op">=</span><span class="st">'hist'</span>, figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">6</span>), alpha<span class="op">=</span><span class="fl">.7</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-11-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Pada praktikum Algoritma dan Pemrograman kita juga telah mempelajari cara untuk membuat scatter plot. Berikut code untuk membuat scatter plot menggunakan matplotlib, untuk melihat korelasi antara daily streams lagu Shape of You dengan Something Just Like This.</p>
<div id="a00cb7a1" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co">Membuat scatter plot untuk melihat korelasi antara lagu</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">Shape of You dengan Something Just Like This menggunakan</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co">matplotlib</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">6</span>))</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>plt.scatter(x<span class="op">=</span>spotify_df[<span class="st">'Shape of You'</span>], </span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span>spotify_df[<span class="st">'Something Just Like This'</span>],</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>            alpha<span class="op">=</span><span class="fl">.5</span>)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'"Shape of You" Total Daily Streams'</span>)</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'"Something Just Like This" Total Daily Streams'</span>)</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-12-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="pengenalan-seaborn" class="level1">
<h1>Pengenalan Seaborn</h1>
<p>Walaupun matplotlib cukup fleksibel dalam menghasilkan plot, tetapi tipe plot yang disediakan cenderung terbatas. Oleh karena itu, kita dapat menggunakan Seaborn karena tipe plot yang disediakan sangat banyak sesuai kebutuhan kita, antara lain line, bar, heatmap, scatter, box, swarm, histogram, density, dan masih banyak lagi.</p>
<section id="line-plot" class="level2">
<h2 class="anchored" data-anchor-id="line-plot">Line Plot</h2>
<p>Line plot biasa digunakan untuk melihat trend data dalam jangka waktu tertentu.</p>
<p>Untuk membuat line plot pada seaborn, kita dapat menggunakan <code>sns.lineplot()</code>. Jika data yang ingin kita visualisasikan adalah dataframe, kita dapat memasukkan variabel dataframe tersebut pada parameter <code>data</code>, seperti code di bawah ini.</p>
<div id="6d6d2b01" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co">Membuat line plot dengan module seaborn</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>plt.subplots(figsize<span class="op">=</span>(<span class="dv">8</span>,<span class="dv">6</span>))</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>sns.lineplot(data<span class="op">=</span>spotify_df)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-13-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Fleksibilitas Seaborn membuat kita dapat memilih color palette yang sesuai dengan keinginan kita. Kita dapat memilih palette yang sudah disediakan oleh seaborn (antara lain: bright, deep, pastel, dan masih banyak lagi) atau kita dapat mengatur sendiri palette yang ingin kita gunakan.</p>
<p>Untuk memilih palette yang akan digunakan untuk plot selanjutnya pada seaborn, kita dapat menggunakan <code>sns.set_palette()</code>.</p>
<p>Jenis palette yang disediakan seaborn serta cara membuat color palette secara mandiri dapat dilihat pada:</p>
<p><a href="https://seaborn.pydata.org/tutorial/color_palettes.html#tools-for-choosing-color-palettes" class="uri">https://seaborn.pydata.org/tutorial/color_palettes.html#tools-for-choosing-color-palettes</a></p>
<div id="5d00f875" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mengganti color palette menjadi "bright"</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>sns.set_palette(<span class="st">'bright'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="705b22fe" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co">Membuat line plot setelah color palette diubah menjadi "bright"</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Mengatur besar figur yang ingin ditampilkan</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">14</span>,<span class="dv">6</span>))</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Membuat line plot</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>sns.lineplot(data<span class="op">=</span>spotify_df)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Membuat judul figur</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Daily Global Streams of Popular Songs in 2017-2018"</span>)</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Menampilkan plot</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-15-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Apabila tidak semua fitur pada data ingin kita visualisasikan, kita dapat menggunakan <code>sns.lineplot()</code> beberapa kali, sesuai dengan banyaknya fitur yang ingin kita tampilkan, seperti pada code di bawah.</p>
<div id="11d7191d" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">14</span>,<span class="dv">6</span>))</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Membuat line plot hanya dengan lagu Shape of You</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>sns.lineplot(data<span class="op">=</span>spotify_df[<span class="st">'Shape of You'</span>], label<span class="op">=</span><span class="st">"Shape of You"</span>)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Menambahkan line plot pada figur dengan lagu Despacito</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>sns.lineplot(data<span class="op">=</span>spotify_df[<span class="st">'Despacito'</span>], label<span class="op">=</span><span class="st">"Despacito"</span>)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Daily Global Streams of Popular Songs in 2017-2018"</span>)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Date"</span>)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">''</span>)</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-16-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="bar-plot" class="level2">
<h2 class="anchored" data-anchor-id="bar-plot">Bar Plot</h2>
<p>Bar plot biasa digunakan untuk membandingkan kuantitas/nilai pada data bertipe kategori.</p>
<p>Selanjutnya, kita akan menggunakan data flight_delays.csv, yaitu data rata-rata keterlambatan beberapa maskapai pesawat pada setiap bulannya.</p>
<div id="e56faa16" class="cell" data-execution_count="157">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>flight_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="157">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Month</th>
<th data-quarto-table-cell-role="th">AA</th>
<th data-quarto-table-cell-role="th">AS</th>
<th data-quarto-table-cell-role="th">B6</th>
<th data-quarto-table-cell-role="th">DL</th>
<th data-quarto-table-cell-role="th">EV</th>
<th data-quarto-table-cell-role="th">F9</th>
<th data-quarto-table-cell-role="th">HA</th>
<th data-quarto-table-cell-role="th">MQ</th>
<th data-quarto-table-cell-role="th">NK</th>
<th data-quarto-table-cell-role="th">OO</th>
<th data-quarto-table-cell-role="th">UA</th>
<th data-quarto-table-cell-role="th">US</th>
<th data-quarto-table-cell-role="th">VX</th>
<th data-quarto-table-cell-role="th">WN</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>January</td>
<td>6.955843</td>
<td>-0.320888</td>
<td>7.347281</td>
<td>-2.043847</td>
<td>8.537497</td>
<td>18.357238</td>
<td>3.512640</td>
<td>18.164974</td>
<td>11.398054</td>
<td>10.889894</td>
<td>6.352729</td>
<td>3.107457</td>
<td>1.420702</td>
<td>3.389466</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>February</td>
<td>7.530204</td>
<td>-0.782923</td>
<td>18.657673</td>
<td>5.614745</td>
<td>10.417236</td>
<td>27.424179</td>
<td>6.029967</td>
<td>21.301627</td>
<td>16.474466</td>
<td>9.588895</td>
<td>7.260662</td>
<td>7.114455</td>
<td>7.784410</td>
<td>3.501363</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>March</td>
<td>6.693587</td>
<td>-0.544731</td>
<td>10.741317</td>
<td>2.077965</td>
<td>6.730101</td>
<td>20.074855</td>
<td>3.468383</td>
<td>11.018418</td>
<td>10.039118</td>
<td>3.181693</td>
<td>4.892212</td>
<td>3.330787</td>
<td>5.348207</td>
<td>3.263341</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>April</td>
<td>4.931778</td>
<td>-3.009003</td>
<td>2.780105</td>
<td>0.083343</td>
<td>4.821253</td>
<td>12.640440</td>
<td>0.011022</td>
<td>5.131228</td>
<td>8.766224</td>
<td>3.223796</td>
<td>4.376092</td>
<td>2.660290</td>
<td>0.995507</td>
<td>2.996399</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>May</td>
<td>5.173878</td>
<td>-1.716398</td>
<td>-0.709019</td>
<td>0.149333</td>
<td>7.724290</td>
<td>13.007554</td>
<td>0.826426</td>
<td>5.466790</td>
<td>22.397347</td>
<td>4.141162</td>
<td>6.827695</td>
<td>0.681605</td>
<td>7.102021</td>
<td>5.680777</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>June</td>
<td>8.191017</td>
<td>-0.220621</td>
<td>5.047155</td>
<td>4.419594</td>
<td>13.952793</td>
<td>19.712951</td>
<td>0.882786</td>
<td>9.639323</td>
<td>35.561501</td>
<td>8.338477</td>
<td>16.932663</td>
<td>5.766296</td>
<td>5.779415</td>
<td>10.743462</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>July</td>
<td>3.870440</td>
<td>0.377408</td>
<td>5.841454</td>
<td>1.204862</td>
<td>6.926421</td>
<td>14.464543</td>
<td>2.001586</td>
<td>3.980289</td>
<td>14.352382</td>
<td>6.790333</td>
<td>10.262551</td>
<td>NaN</td>
<td>7.135773</td>
<td>10.504942</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>August</td>
<td>3.193907</td>
<td>2.503899</td>
<td>9.280950</td>
<td>0.653114</td>
<td>5.154422</td>
<td>9.175737</td>
<td>7.448029</td>
<td>1.896565</td>
<td>20.519018</td>
<td>5.606689</td>
<td>5.014041</td>
<td>NaN</td>
<td>5.106221</td>
<td>5.532108</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>September</td>
<td>-1.432732</td>
<td>-1.813800</td>
<td>3.539154</td>
<td>-3.703377</td>
<td>0.851062</td>
<td>0.978460</td>
<td>3.696915</td>
<td>-2.167268</td>
<td>8.000101</td>
<td>1.530896</td>
<td>-1.794265</td>
<td>NaN</td>
<td>0.070998</td>
<td>-1.336260</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>October</td>
<td>-0.580930</td>
<td>-2.993617</td>
<td>3.676787</td>
<td>-5.011516</td>
<td>2.303760</td>
<td>0.082127</td>
<td>0.467074</td>
<td>-3.735054</td>
<td>6.810736</td>
<td>1.750897</td>
<td>-2.456542</td>
<td>NaN</td>
<td>2.254278</td>
<td>-0.688851</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>November</td>
<td>0.772630</td>
<td>-1.916516</td>
<td>1.418299</td>
<td>-3.175414</td>
<td>4.415930</td>
<td>11.164527</td>
<td>-2.719894</td>
<td>0.220061</td>
<td>7.543881</td>
<td>4.925548</td>
<td>0.281064</td>
<td>NaN</td>
<td>0.116370</td>
<td>0.995684</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>December</td>
<td>4.149684</td>
<td>-1.846681</td>
<td>13.839290</td>
<td>2.504595</td>
<td>6.685176</td>
<td>9.346221</td>
<td>-1.706475</td>
<td>0.662486</td>
<td>12.733123</td>
<td>10.947612</td>
<td>7.012079</td>
<td>NaN</td>
<td>13.498720</td>
<td>6.720893</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>Untuk membuat bar plot pada seaborn dengan dataframe, kita dapat menggunakan <code>sns.barplot()</code> dengan tiga parameter yang wajib kita set, yaitu:</p>
<ul>
<li><p>data: dataframe yang ingin kita visualisasikan</p></li>
<li><p>x: nama fitur pada dataframe yang ingin kita jadikan sumbu-x</p></li>
<li><p>y: nama fitur pada dataframe yang ingin kita jadikan sumbu-y</p></li>
</ul>
<p>Pada kode di bawah, juga digunakan satu parameter opsional, yaitu <code>palette</code> yang merupakan cara lain untuk mengatur color palette yang ingin kita gunakan</p>
<div id="e7767d89" class="cell" data-execution_count="158">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co">Membuat bar plot keterlambatan maskapai EV setiap </span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co">bulannya menggunakan seaborn</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">14</span>,<span class="dv">6</span>))</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>flight_df, x<span class="op">=</span><span class="st">'Month'</span>, y<span class="op">=</span><span class="st">'EV'</span>,hue<span class="op">=</span><span class="st">"Month"</span>,</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>            palette<span class="op">=</span>sns.color_palette(<span class="st">'deep'</span>, n_colors<span class="op">=</span><span class="dv">12</span>))</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'EV Flight Delays (minute)'</span>)</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Average EV Flight Delays per Month'</span>)</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-18-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Berdasarkan hasil plot di atas, terlihat bahwa maskapai EV memiliki rata-rata keterlambatan terlama pada bulan Juni, serta tercepat pada bulan September.</p>
<p>Selanjutnya, mari kita coba lihat urutan rata-rata keterlambatan semua maskapai dalam satu tahun (maskapai mana yang memiliki rata-rata keterlambatan terlama, serta maskapai mana yang tercepat).</p>
<p>Hal pertama yang perlu kita lakukan adalah, jadikan fitur <code>Month</code> sebagai index dataframe.</p>
<div id="ec15c71b" class="cell" data-execution_count="159">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set fitur "Month" menjadi index dataframe</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>flight_df <span class="op">=</span> flight_df.set_index(<span class="st">'Month'</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>flight_df.head(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="159">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">AA</th>
<th data-quarto-table-cell-role="th">AS</th>
<th data-quarto-table-cell-role="th">B6</th>
<th data-quarto-table-cell-role="th">DL</th>
<th data-quarto-table-cell-role="th">EV</th>
<th data-quarto-table-cell-role="th">F9</th>
<th data-quarto-table-cell-role="th">HA</th>
<th data-quarto-table-cell-role="th">MQ</th>
<th data-quarto-table-cell-role="th">NK</th>
<th data-quarto-table-cell-role="th">OO</th>
<th data-quarto-table-cell-role="th">UA</th>
<th data-quarto-table-cell-role="th">US</th>
<th data-quarto-table-cell-role="th">VX</th>
<th data-quarto-table-cell-role="th">WN</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Month</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">January</td>
<td>6.955843</td>
<td>-0.320888</td>
<td>7.347281</td>
<td>-2.043847</td>
<td>8.537497</td>
<td>18.357238</td>
<td>3.512640</td>
<td>18.164974</td>
<td>11.398054</td>
<td>10.889894</td>
<td>6.352729</td>
<td>3.107457</td>
<td>1.420702</td>
<td>3.389466</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">February</td>
<td>7.530204</td>
<td>-0.782923</td>
<td>18.657673</td>
<td>5.614745</td>
<td>10.417236</td>
<td>27.424179</td>
<td>6.029967</td>
<td>21.301627</td>
<td>16.474466</td>
<td>9.588895</td>
<td>7.260662</td>
<td>7.114455</td>
<td>7.784410</td>
<td>3.501363</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>Selanjutnya, kita perlu hitung rata-rata keterlambatan tiap maskapai dalam satu tahun, yaitu hitung rata-rata tiap kolom pada dataframe menggunakan <code>.mean()</code> (Tambahan: apabila kita ingin menghitung rata-rata tiap barisnya, kita dapat menggunakan parameter <code>axis=1</code> pada <code>.mean()</code>). <code>.mean()</code> akan menghasilkan pandas Series.</p>
<p>Lalu, agar mempermudah kita dalam melihat visualisasi bar plotnya, kita dapat menggunakan <code>.sort_values()</code>.</p>
<div id="43933aa7" class="cell" data-execution_count="160">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Simpan rata-rata keterlambatan semua maskapai dalam satu tahun pada variabel flight_mean_inyear</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>flight_mean_inyear <span class="op">=</span> flight_df.mean()</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Urutkan flight_mean_inyear secara ascending</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>flight_mean_inyear <span class="op">=</span> flight_mean_inyear.sort_values()</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>flight_mean_inyear</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="160">
<pre><code>AS    -1.023656
DL     0.231116
HA     1.993205
US     3.776815
AA     4.120776
WN     4.275277
VX     4.717718
UA     5.413415
OO     5.909658
MQ     5.964953
EV     6.543328
B6     6.788370
F9    13.035736
NK    14.549663
dtype: float64</code></pre>
</div>
</div>
<p>Terakhir, visualisasikan bar plot menggunakan cara seperti sebelumnya.</p>
<p>Kita dapat lihat pada code dibawah bahwa tidak digunakan parameter <code>data</code>, karena flight_mean_inyear merupakan pandas Series (bukan dataframe) sehingga lebih mudah jika kita langsung menggunakan parameter <code>x</code> dan <code>y</code> saja.</p>
<div id="5f1ac6b9" class="cell" data-execution_count="163">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>plt.subplots(figsize<span class="op">=</span>(<span class="dv">14</span>,<span class="dv">6</span>))</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>sns.barplot(x<span class="op">=</span>flight_mean_inyear.index, hue<span class="op">=</span>flight_mean_inyear.index,</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span>flight_mean_inyear.values,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>            palette<span class="op">=</span>sns.color_palette(<span class="st">'deep'</span>, n_colors<span class="op">=</span><span class="dv">14</span>))</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Average Delay per Flight in a Year'</span>)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-21-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Berdasarkan plot diatas, NK merupakan maskapai dengan rata-rata keterlambatan terlama dalam satu tahun, sedangkan AS adalah yang tercepat (AS bernilai negatif yang berarti rata-rata kedatangan pesawat lebih cepat dari yang dijadwalkan dalam satu tahun.</p>
</section>
<section id="heatmap" class="level2">
<h2 class="anchored" data-anchor-id="heatmap">Heatmap</h2>
<p>Heatmap biasa digunakan untuk mempermudah melihat pola pada data berdasarkan warna yang dihasilkan.</p>
<p>Pada seaborn, kita dapat menggunakan heatmap dengan <code>sns.heatmap()</code> seperti pada kode dibawah. Parameter <code>annot</code> berfungsi untuk menampilkan nilai data (jika True) atau tidak (jika False).</p>
<p>Bar sebelah kanan heatmap menunjukkan bahwa, semakin lama keterlambatan pesawat, maka warna yang dihasilkan semakin terang. Sebaliknya, semakin gelap warna yang dihasilkan berarti semakin cepat pesawat datang tersebut.</p>
<div id="d3693794" class="cell" data-execution_count="164">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co">Membuat heatmap menggunakan Seaborn</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">14</span>,<span class="dv">10</span>))</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>sns.heatmap(data<span class="op">=</span>flight_df, annot<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Average Arrival Delay for Each Airline, by Month"</span>)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Airline"</span>)</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-22-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Berdasarkan heatmap di atas, kita dapat melihat dengan mudah pada bulan apa suatu maskapai sangat terlambat (contoh: maskapai NK pada bulan Juni).</p>
<p>Heatmap sangat sering digunakan untuk melihat korelasi antar fitur pada dataset agar kita dapat mengerti lebih jauh tentang fitur-fitur pada data, atau juga dapat dimanfaatkan untuk melakukan feature selection sebelum membuat sebuat model Machine Learning.</p>
<p>Untuk melakukan hal tersebut, kita perlu menghitung dahulu korelasi antar fitur menggunakan pandas <code>.corr()</code>, yaitu fungsi yang akan menghitung korelasi antar dua fitur menggunakan korelasi Pearson.</p>
<p>Notes: Metode korelasi dapat diubah dengan menggunakan parameter <code>method</code> pada <code>.corr()</code>, contoh: <code>.corr(method='spearman')</code>. Metode lainnya dapat dilihat pada:</p>
<p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.corr.html" class="uri">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.corr.html</a></p>
<div id="2f1ac951" class="cell" data-scrolled="true" data-execution_count="166">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Hitung korelasi antar dua fitur pada flight_df</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>flight_corr <span class="op">=</span> flight_df.corr()</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>flight_corr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="166">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">AA</th>
<th data-quarto-table-cell-role="th">AS</th>
<th data-quarto-table-cell-role="th">B6</th>
<th data-quarto-table-cell-role="th">DL</th>
<th data-quarto-table-cell-role="th">EV</th>
<th data-quarto-table-cell-role="th">F9</th>
<th data-quarto-table-cell-role="th">HA</th>
<th data-quarto-table-cell-role="th">MQ</th>
<th data-quarto-table-cell-role="th">NK</th>
<th data-quarto-table-cell-role="th">OO</th>
<th data-quarto-table-cell-role="th">UA</th>
<th data-quarto-table-cell-role="th">US</th>
<th data-quarto-table-cell-role="th">VX</th>
<th data-quarto-table-cell-role="th">WN</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">AA</td>
<td>1.000000</td>
<td>0.334980</td>
<td>0.429854</td>
<td>0.805229</td>
<td>0.896523</td>
<td>0.903986</td>
<td>0.220065</td>
<td>0.842701</td>
<td>0.573716</td>
<td>0.620477</td>
<td>0.809874</td>
<td>0.823713</td>
<td>0.425237</td>
<td>0.615664</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">AS</td>
<td>0.334980</td>
<td>1.000000</td>
<td>0.340359</td>
<td>0.394359</td>
<td>0.356608</td>
<td>0.336791</td>
<td>0.684979</td>
<td>0.283977</td>
<td>0.480863</td>
<td>0.350657</td>
<td>0.457414</td>
<td>0.489025</td>
<td>0.229571</td>
<td>0.519228</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">B6</td>
<td>0.429854</td>
<td>0.340359</td>
<td>1.000000</td>
<td>0.643313</td>
<td>0.342627</td>
<td>0.510718</td>
<td>0.467905</td>
<td>0.529724</td>
<td>0.032038</td>
<td>0.591115</td>
<td>0.233021</td>
<td>0.788345</td>
<td>0.579750</td>
<td>0.151750</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">DL</td>
<td>0.805229</td>
<td>0.394359</td>
<td>0.643313</td>
<td>1.000000</td>
<td>0.796951</td>
<td>0.783265</td>
<td>0.262251</td>
<td>0.598765</td>
<td>0.625277</td>
<td>0.569073</td>
<td>0.797339</td>
<td>0.821757</td>
<td>0.700605</td>
<td>0.691805</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">EV</td>
<td>0.896523</td>
<td>0.356608</td>
<td>0.342627</td>
<td>0.796951</td>
<td>1.000000</td>
<td>0.828515</td>
<td>0.099369</td>
<td>0.721468</td>
<td>0.784026</td>
<td>0.692697</td>
<td>0.911499</td>
<td>0.669736</td>
<td>0.462638</td>
<td>0.730115</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">F9</td>
<td>0.903986</td>
<td>0.336791</td>
<td>0.510718</td>
<td>0.783265</td>
<td>0.828515</td>
<td>1.000000</td>
<td>0.273878</td>
<td>0.912984</td>
<td>0.414064</td>
<td>0.582509</td>
<td>0.671986</td>
<td>0.878874</td>
<td>0.308397</td>
<td>0.465765</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">HA</td>
<td>0.220065</td>
<td>0.684979</td>
<td>0.467905</td>
<td>0.262251</td>
<td>0.099369</td>
<td>0.273878</td>
<td>1.000000</td>
<td>0.436015</td>
<td>0.176485</td>
<td>0.056941</td>
<td>0.066821</td>
<td>0.586160</td>
<td>-0.008439</td>
<td>-0.007296</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">MQ</td>
<td>0.842701</td>
<td>0.283977</td>
<td>0.529724</td>
<td>0.598765</td>
<td>0.721468</td>
<td>0.912984</td>
<td>0.436015</td>
<td>1.000000</td>
<td>0.281890</td>
<td>0.586963</td>
<td>0.503575</td>
<td>0.660181</td>
<td>0.150111</td>
<td>0.239744</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">NK</td>
<td>0.573716</td>
<td>0.480863</td>
<td>0.032038</td>
<td>0.625277</td>
<td>0.784026</td>
<td>0.414064</td>
<td>0.176485</td>
<td>0.281890</td>
<td>1.000000</td>
<td>0.365273</td>
<td>0.827455</td>
<td>0.293515</td>
<td>0.395419</td>
<td>0.742869</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">OO</td>
<td>0.620477</td>
<td>0.350657</td>
<td>0.591115</td>
<td>0.569073</td>
<td>0.692697</td>
<td>0.582509</td>
<td>0.056941</td>
<td>0.586963</td>
<td>0.365273</td>
<td>1.000000</td>
<td>0.626051</td>
<td>0.590313</td>
<td>0.561515</td>
<td>0.548304</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">UA</td>
<td>0.809874</td>
<td>0.457414</td>
<td>0.233021</td>
<td>0.797339</td>
<td>0.911499</td>
<td>0.671986</td>
<td>0.066821</td>
<td>0.503575</td>
<td>0.827455</td>
<td>0.626051</td>
<td>1.000000</td>
<td>0.477816</td>
<td>0.536968</td>
<td>0.926800</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">US</td>
<td>0.823713</td>
<td>0.489025</td>
<td>0.788345</td>
<td>0.821757</td>
<td>0.669736</td>
<td>0.878874</td>
<td>0.586160</td>
<td>0.660181</td>
<td>0.293515</td>
<td>0.590313</td>
<td>0.477816</td>
<td>1.000000</td>
<td>0.333396</td>
<td>0.242344</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">VX</td>
<td>0.425237</td>
<td>0.229571</td>
<td>0.579750</td>
<td>0.700605</td>
<td>0.462638</td>
<td>0.308397</td>
<td>-0.008439</td>
<td>0.150111</td>
<td>0.395419</td>
<td>0.561515</td>
<td>0.536968</td>
<td>0.333396</td>
<td>1.000000</td>
<td>0.630278</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">WN</td>
<td>0.615664</td>
<td>0.519228</td>
<td>0.151750</td>
<td>0.691805</td>
<td>0.730115</td>
<td>0.465765</td>
<td>-0.007296</td>
<td>0.239744</td>
<td>0.742869</td>
<td>0.548304</td>
<td>0.926800</td>
<td>0.242344</td>
<td>0.630278</td>
<td>1.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>Pandas <code>.corr()</code> menghasilkan dataframe dengan nama baris dan kolom yang sama, serta berisi nilai korelasi antara baris dan kolom yang ditinjau (contoh: korelasi antara maskapai AA dan AS adalah 0,334980). Serta, dataframe yang dihasilkan adalah sebuat matriks simetris.</p>
<p>Tentu dengan hanya melihat dataframe di atas, tidak terlihat begitu jelas mana fitur yang memiliki korelasi tinggi dan mana yang yang memiliki korelasi rendah. Oleh karena itu, kita dapat memanfaatkan heatmap.</p>
<p>Pada code di bawah, untuk mempermudah pembacaan heatmap, kita menggunakan parameter <code>vmin</code>, <code>vmax</code>, dan <code>center</code> pada <code>sns.heatmap()</code>. <code>vmin</code> berfungsi untuk mengatur nilai terendah, <code>vmax</code> berfungsi untuk mengatur nilai tertinggi, dan <code>center</code> berfungsi untuk mengatur nilai tengah pada heatmap. Korelasi Pearson menghasilkan nilai antara -1 hingga 1, sehingga kita dapat set ketiga parameter tersebut seperti pada code di bawah.</p>
<div id="e71b11c3" class="cell" data-execution_count="167">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">14</span>,<span class="dv">10</span>))</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>sns.heatmap(data<span class="op">=</span>flight_corr, vmin<span class="op">=-</span><span class="dv">1</span>, vmax<span class="op">=</span><span class="dv">1</span>, center<span class="op">=</span><span class="dv">0</span>, annot<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Pearson Correlation of Each Airline Flight Delays"</span>)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Airline"</span>)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-24-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Dengan menggunakan heatmap, sekarang terlihat bahwa mana maskapai yang keterlambatannya berkorelasi tinggi dan mana yang rendah. Misal, AA dan EV menghasilkan korelasi yang cukup tinggi positif, yaitu 0.9, yang artinya jika keterlambatan maskapai AA tinggi, begitu juga maskapai EV, dan sebaliknya jika keterlambatan maskapai AA rendah, begitu juga maskapai EV.</p>
<p>Untuk meyakinkan kita dengan hal tersebut, kita dapat lihat pada materi selanjutnya, yaitu Scatter Plot.</p>
</section>
<section id="scatter-plot" class="level2">
<h2 class="anchored" data-anchor-id="scatter-plot">Scatter Plot</h2>
<p>Scatter plot biasa digunakan untuk melihat korelasi antara dua fitur bertipe numerik.</p>
<p>Untuk menggunakan scatter plot pada seaborn, kita dapat menggunakan <code>sns.scatterplot()</code>, dengan parameter yang sama seperti kita membuat bar plot.</p>
<div id="4b2c92fe" class="cell" data-execution_count="168">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co">Membuat scatter plot untuk melihat </span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co">keterkaitan pada keterlambatan pesawat</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co">maskapai EV dan AA</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>flight_df, x<span class="op">=</span><span class="st">'EV'</span>, y<span class="op">=</span><span class="st">'AA'</span>)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-25-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Melalui scatter plot di atas, kita dapat semakin yakin bahwa kesimpulan yang kita ambil dengan melihat heatmap sebelumnya benar.</p>
<div id="c5560315" class="cell" data-execution_count="169">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="co">Tambahan scatter plot pada maskapai lain yang</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="co">memiliki korelasi tinggi</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>flight_df, x<span class="op">=</span><span class="st">'EV'</span>, y<span class="op">=</span><span class="st">'UA'</span>)</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-26-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="0f02ebe9" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="co">Scatter plot pada maskapai yang memiliki</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co">korelasi rendah (mendekati 0)</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>flight_df, x<span class="op">=</span><span class="st">'UA'</span>, y<span class="op">=</span><span class="st">'HA'</span>)</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-27-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Pada heatmap, terlihat bahwa maskapai UA dan HA memiliki korelasi yang rendah, yaitu 0.067. Sehingga, jika kita buat scatter plotnya, menghasilkan plot seperti di atas.</p>
<p>Sekarang kita akan menggunakan dataset lainnya, yaitu insurance.csv yang merupakan data berisi biaya asuransi (charges) beberapa orang.</p>
<div id="3906c42a" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>insurance_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">bmi</th>
<th data-quarto-table-cell-role="th">children</th>
<th data-quarto-table-cell-role="th">smoker</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">charges</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>19</td>
<td>female</td>
<td>27.900</td>
<td>0</td>
<td>yes</td>
<td>southwest</td>
<td>16884.92400</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>18</td>
<td>male</td>
<td>33.770</td>
<td>1</td>
<td>no</td>
<td>southeast</td>
<td>1725.55230</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>28</td>
<td>male</td>
<td>33.000</td>
<td>3</td>
<td>no</td>
<td>southeast</td>
<td>4449.46200</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>33</td>
<td>male</td>
<td>22.705</td>
<td>0</td>
<td>no</td>
<td>northwest</td>
<td>21984.47061</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>32</td>
<td>male</td>
<td>28.880</td>
<td>0</td>
<td>no</td>
<td>northwest</td>
<td>3866.85520</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>Misal, kita ingin melihat keterkaitan indeks massa tubuh (<code>bmi</code>) seseorang dengan biaya asuransi (<code>charges</code>) orang tersebut. Sama seperti sebelumnya, kita dapat melakukannya seperti pada code di bawah.</p>
<div id="14924bc7" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mengubah palette menjadi default</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>sns.set_palette(<span class="st">'tab10'</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Membuat scatter plot antara fitur bmi dan charges</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>insurance_df, x<span class="op">=</span><span class="st">'bmi'</span>, y<span class="op">=</span><span class="st">'charges'</span>)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-29-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Scatter plot di atas menunjukkan bahwa korelasi antara <code>bmi</code> dan <code>charges</code> adalah cenderung positif, tetapi tidak terlalu tinggi. Yang artinya, orang dengan BMI tinggi, cenderung akan membayar biaya asuransi lebih tinggi.</p>
<p>Agar kita semakin yakin dengan kesimpulan tersebut, kita dapat menambahakn garis regresi pada scatter plot tersebut dengan menggunakan <code>sns.regplot()</code>.</p>
<div id="2f0cffd5" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>sns.regplot(data<span class="op">=</span>insurance_df, x<span class="op">=</span><span class="st">'bmi'</span>, y<span class="op">=</span><span class="st">'charges'</span>, line_kws<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">"r"</span>))</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-30-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Berdasarkan scatter plot dan garis regresi dihasilkan, terlihat bahwa kesimpulan yang kita ambil benar. Agar semakin yakin lagi, kita juga dapat menghitung langsung korelasi Pearsonnya menggunakan cara sebelumnya, yaitu pandas <code>.corr()</code>.</p>
<div id="a3b1ff1b" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>insurance_df[[<span class="st">'bmi'</span>, <span class="st">'charges'</span>]].corr()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">bmi</th>
<th data-quarto-table-cell-role="th">charges</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">bmi</td>
<td>1.000000</td>
<td>0.198341</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">charges</td>
<td>0.198341</td>
<td>1.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>Dengan menggunakan seaborn, kita juga dapat memvisualisasikan scatter plot berdasarkan dengan pewarnaan yang berbeda berdasarkan fitur lainnya yang bertipe kategorik.</p>
<p>Misal, kita ingin membuat scatter plot antara fitur <code>bmi</code> dan <code>charges</code> dengan pewarnaannya berdasarkan nilai dari fitur <code>smoker</code>, yaitu yes atau no. Kita dapat set parameter <code>hue='smoker'</code> pada <code>sns.scatterplot()</code> seperti pada code di bawah.</p>
<div id="40d464aa" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>insurance_df, x<span class="op">=</span><span class="st">'bmi'</span>, y<span class="op">=</span><span class="st">'charges'</span>, hue<span class="op">=</span><span class="st">'smoker'</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-32-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Sehingga dihasilkan pewarnaan yang berbeda untuk seseorang yang merupakan perokok (biru) dan yang tidak (orange). Berdasarkan scatter plot di atas, terlihat bahwa korelasi antara <code>bmi</code> dan <code>charges</code> untuk perokok cendering tinggi positif (semakin besar <code>bmi</code>, semakin besar juga <code>charges</code>). Sedangkan, untuk bukan perokok, korelasinya cenderung rendah (semakin besar <code>bmi</code>, tidak terlalu berpengaruh terhadap <code>charges</code>).</p>
<p>Seperti cara sebelumnya, kita dapat menambahkan garis regresi. Namun, karena kita disini menggunakan <code>hue</code>, terdapat dua cara untuk menambahkan garis regresi, yaitu yang pertama adalah menggunakan <code>sns.regplot()</code> seperti di bawah ini.</p>
<div id="a1080626" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>sns.regplot(data<span class="op">=</span>insurance_df.query(<span class="st">'smoker == "yes"'</span>), x<span class="op">=</span><span class="st">'bmi'</span>, y<span class="op">=</span><span class="st">'charges'</span>, line_kws<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">"g"</span>)) <span class="co"># axes 1</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>sns.regplot(data<span class="op">=</span>insurance_df.query(<span class="st">'smoker == "no"'</span>), x<span class="op">=</span><span class="st">'bmi'</span>, y<span class="op">=</span><span class="st">'charges'</span>, line_kws<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">"g"</span>)) <span class="co"># axes 2</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-33-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Perhatikan bahwa <code>sns.regplot()</code> dipanggil dua kali karena fungsi tersebut tidak memiliki parameter <code>hue</code>.</p>
<p>Untuk mempermudah, kita dapat menggunakan cara kedua, yaitu menggunakan <code>sns.lmplot()</code>. Cara kerja <code>sns.lmplot()</code> yaitu menggabungkan dua (atau lebih) <code>sns.regplot()</code> dalam satu figur.</p>
<div id="8da84047" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>sns.lmplot(data<span class="op">=</span>insurance_df, x<span class="op">=</span><span class="st">'bmi'</span>, y<span class="op">=</span><span class="st">'charges'</span>, hue<span class="op">=</span><span class="st">'smoker'</span>, line_kws<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">"g"</span>))</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-34-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="box-plot-dan-swarm-plot" class="level2">
<h2 class="anchored" data-anchor-id="box-plot-dan-swarm-plot">Box Plot dan Swarm Plot</h2>
<p>Box plot dan swarm plot biasa digunakan untuk melihat keterkaitan antara data kategorik dan data numerik. Swarm plot biasa disebut sebagai “categorical scatter plot”, karena plot yang dihasilkan mirip seperti scatter plot, tetapi untuk data kategorik.</p>
<p>Untuk menggunakan box plot pada seaborn kita dapat menggunakan <code>sns.boxplot()</code>.</p>
<p>Untuk menggunakan swarm plot pada seaborn kita dapat menggunakan <code>sns.swarmplot()</code>.</p>
<p>Misal, kita ingin melihat keterkaitan antara fitur <code>smoker</code> dan <code>charges</code> menggunakan swarm plot. Maka, kita dapat menggunakan code seperti di bawah ini.</p>
<div id="00cd87a2" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>plt.subplots(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">6</span>))</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>sns.swarmplot(data<span class="op">=</span>insurance_df, x<span class="op">=</span><span class="st">'smoker'</span>, y<span class="op">=</span><span class="st">'charges'</span>, size<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-35-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Berdasarkan swarm plot di atas, terlihat bahwa perokok cenderung memiliki biaya asuransi yang lebih tinggi dibandingkan yang bukan perokok. Selain itu, semakin lebar “swarm” pada suatu kategori berarti semakin banyak seseorang dengan nilai <code>charges</code> tersebut.</p>
<p>Apabila kita ingin menggunakan box plot, maka dapat digunakan code seperti di bawah ini.</p>
<div id="eb9ebdf9" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>sns.boxplot(data<span class="op">=</span>insurance_df, x<span class="op">=</span><span class="st">'smoker'</span>, y<span class="op">=</span><span class="st">'charges'</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-36-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Pada box plot, terdapat dua istilah yang umum digunakan, yaitu “box” dan “whiskers”. Pada box plot di atas, “box” merupakan persegi panjang berwarna biru dan orange. Garis di tengah box merupakan nilai mediannya, serta garis bawah dan garis atas box merupakan kuartil bawah (Q1) dan kuartil atas (Q3) secara berurutan. “Whiskers” adalah garis yang merupakan perpanjangan dari box. Ujung dari whiskers atas adalah Q3 + (1.5 x IQR) data, sedangkan ujung whiskers bawah adalah Q1 - (1.5 x IQR) data.</p>
<p>Titik di luar box dan whiskers tersebut adalah titik yang biasa dijadikan sebagai outlier (penentuan outlier diserahkan ke diri masing-masing, apakah hanya dengan melihat box plot atau dengan menggunakan metode lain, tetapi untuk mempermudah dapat menggunakan box plot).</p>
</section>
<section id="histogram-dan-density-plot" class="level2">
<h2 class="anchored" data-anchor-id="histogram-dan-density-plot">Histogram dan Density Plot</h2>
<p>Selain box plot dan swarm plot, kita juga dapat melihat persebaran data menggunakan histogram dan density plot. Histogram biasa digunakan untuk melihat persebaran data secara diskrit, sedangkan density plot untuk melihat persebaran data secara kontinu.</p>
<p>Untuk membuat histogram pada seaborn, kita dapat menggunakan <code>sns.histplot()</code>.</p>
<p>Untuk membuat density plot pada seaborn, kita dapat menggunakan <code>sns.kdeplot()</code>.</p>
<p>Misal, kita ingin melihat persebaran dari fitur <code>charges</code> pada insurance_df. Maka dapat digunakan code seperti di bawah.</p>
<div id="8b74173c" class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>plt.subplots(figsize<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">6</span>))</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>insurance_df, x<span class="op">=</span><span class="st">'charges'</span>)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-37-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Berdasarkan histogram di atas, terlihat bahwa distribusi <code>charges</code> cenderung “skew” atau miring ke kanan. “Skewness” atau tingkat kecondongan merupakan aspek yang penting untuk diperhatikan ketika kita ingin membuat model Machine Learning.</p>
<p>Seperti scatter plot, kita juga dapat menentukan pewarnaan histogram berdasarkan fitur lainnya dengan menggunakan parameter <code>hue</code> seperti di bawah ini/</p>
<div id="a8fcaa35" class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>plt.subplots(figsize<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">6</span>))</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>insurance_df, x<span class="op">=</span><span class="st">'charges'</span>, hue<span class="op">=</span><span class="st">'smoker'</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-38-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Jika ingin membuat density plot dari fitur <code>charges</code>, kita dapat menggunakan kode seperti di bawah ini. Parameter <code>shade</code> berfungsi untuk memberikan warna di bawah kurva.</p>
<div id="be0aaae1" class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>plt.subplots(figsize<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">6</span>))</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>sns.kdeplot(data<span class="op">=</span>insurance_df, x<span class="op">=</span><span class="st">'charges'</span>, fill<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-39-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><code>sns.kdeplot()</code> juga dapat menggunakan parameter <code>hue</code>.</p>
<div id="7a4997eb" class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>plt.subplots(figsize<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">6</span>))</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>sns.kdeplot(data<span class="op">=</span>insurance_df, x<span class="op">=</span><span class="st">'charges'</span>,</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>            hue<span class="op">=</span><span class="st">'smoker'</span>, fill<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-40-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Apabila kita ingin menggabungkan histogram dan density plot dalam satu figur, kita dapat menggunakan <code>sns.histplot()</code> dengan parameter <code>kde=True</code>.</p>
<div id="7de6ea23" class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>plt.subplots(figsize<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">6</span>))</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>insurance_df, x<span class="op">=</span><span class="st">'charges'</span>, hue<span class="op">=</span><span class="st">'smoker'</span>, kde<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-41-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="joint-plot" class="level2">
<h2 class="anchored" data-anchor-id="joint-plot">Joint Plot</h2>
<p>Pada seaborn, kita juga dapat membuat dua plot yang berbeda dari dua fitur dalam satu figur yang sama menggunakan <code>sns.jointplot()</code>.</p>
<p>Jenis plot yang dihasilkan dapat diatur pada parameter <code>kind</code>. Pilihan jenis <code>kind</code> yang disediakan dapat dilihat pada:</p>
<p><a href="https://seaborn.pydata.org/generated/seaborn.jointplot.html" class="uri">https://seaborn.pydata.org/generated/seaborn.jointplot.html</a></p>
<div id="7340dcc5" class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>sns.jointplot(data<span class="op">=</span>insurance_df, x<span class="op">=</span><span class="st">'charges'</span>, y<span class="op">=</span><span class="st">'bmi'</span>, hue<span class="op">=</span><span class="st">'smoker'</span>, kind<span class="op">=</span><span class="st">"scatter"</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-42-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="4c67b4ea" class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>sns.jointplot(data<span class="op">=</span>insurance_df, x<span class="op">=</span><span class="st">'charges'</span>, y<span class="op">=</span><span class="st">'bmi'</span>, hue<span class="op">=</span><span class="st">'smoker'</span>, kind<span class="op">=</span><span class="st">"hist"</span>)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-43-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="7064457a" class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>sns.jointplot(data<span class="op">=</span>insurance_df, x<span class="op">=</span><span class="st">'charges'</span>, y<span class="op">=</span><span class="st">'bmi'</span>, hue<span class="op">=</span><span class="st">'smoker'</span>, kind<span class="op">=</span><span class="st">"kde"</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-44-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="panduan-pemilihan-plot" class="level1">
<h1>Panduan Pemilihan Plot</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="modul2_files/figure-html/34c600d5-1-image.png" class="img-fluid figure-img"></p>
<figcaption>image.png</figcaption>
</figure>
</div>
<p>source: <a href="https://www.kaggle.com/code/alexisbcook/choosing-plot-types-and-custom-styles" class="uri">https://www.kaggle.com/code/alexisbcook/choosing-plot-types-and-custom-styles</a></p>
</section>
<section id="encoding-data-kategorik" class="level1">
<h1>Encoding Data Kategorik</h1>
<p>Banyak metode sains data / <em>machine learning</em> yang hanya bisa digunakan dengan data numerik. Oleh karena itu, data kategorik perlu diubah terlebih dahulu menjadi data numerik, melakukan yang namanya <em>categorical data encoding</em></p>
<p>Ingat kembali, data kategorik adalah suatu tipe data yang merepresentasikan kelompok atau kategori. Data bertipe ini dapat diklasifikasikan menjadi dua jenis utama: nominal dan ordinal.</p>
<ol type="1">
<li><p>Data nominal adalah tipe data kategorik di mana kategori tidak memiliki urutan atau hierarki yang bermakna. Setiap kategori hanya mewakili suatu label tanpa adanya perbedaan kuantitatif atau tingkatan di antara kategori tersebut.</p>
<p>Ciri-ciri Data Nominal:</p>
<ul>
<li>Tidak memiliki urutan atau skala tertentu.</li>
<li>Hanya sebagai label atau nama tanpa makna numerik.</li>
<li>Bisa berupa teks atau angka, tetapi angka hanya digunakan sebagai kode, bukan untuk perhitungan.</li>
</ul></li>
<li><p>Data ordinal adalah tipe data kategorik di mana kategori memiliki urutan atau hierarki yang jelas. Meskipun memiliki urutan, jarak antar kategori tidak selalu sama.</p>
<p>Ciri-ciri Data Ordinal:</p>
<ul>
<li>Memiliki urutan yang jelas (ada tingkatan).</li>
<li>Tidak bisa dihitung perbedaan antar tingkatan secara numerik.</li>
<li>Bisa diurutkan tetapi tidak bisa dioperasikan secara matematis (misalnya, tidak bisa dijumlahkan atau dikurangi).</li>
</ul></li>
</ol>
<p>Kedua jenis data kategorik ini memiliki cara encoding yang berbeda.</p>
<p>Dataset yang akan digunakan adalah “California Housing Prices” (housing.csv) yang bisa didownload dari salah satu sumber berikut:</p>
<ul>
<li><p><a href="./housing.csv">Direct link (langsung dari GitHub Pages ini)</a></p></li>
<li><p>Kaggle: <a href="https://www.kaggle.com/datasets/camnugent/california-housing-prices" class="uri">https://www.kaggle.com/datasets/camnugent/california-housing-prices</a></p></li>
</ul>
<div id="5c3c4f1a" class="cell" data-execution_count="72">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>df_housing <span class="op">=</span> pd.read_csv(<span class="st">"./housing.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>mari kita lihat isinya</p>
<div id="9e68c4da" class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>df_housing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="73">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">housing_median_age</th>
<th data-quarto-table-cell-role="th">total_rooms</th>
<th data-quarto-table-cell-role="th">total_bedrooms</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">households</th>
<th data-quarto-table-cell-role="th">median_income</th>
<th data-quarto-table-cell-role="th">median_house_value</th>
<th data-quarto-table-cell-role="th">ocean_proximity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>-122.23</td>
<td>37.88</td>
<td>41.0</td>
<td>880.0</td>
<td>129.0</td>
<td>322.0</td>
<td>126.0</td>
<td>8.3252</td>
<td>452600.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>-122.22</td>
<td>37.86</td>
<td>21.0</td>
<td>7099.0</td>
<td>1106.0</td>
<td>2401.0</td>
<td>1138.0</td>
<td>8.3014</td>
<td>358500.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>-122.24</td>
<td>37.85</td>
<td>52.0</td>
<td>1467.0</td>
<td>190.0</td>
<td>496.0</td>
<td>177.0</td>
<td>7.2574</td>
<td>352100.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>-122.25</td>
<td>37.85</td>
<td>52.0</td>
<td>1274.0</td>
<td>235.0</td>
<td>558.0</td>
<td>219.0</td>
<td>5.6431</td>
<td>341300.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>-122.25</td>
<td>37.85</td>
<td>52.0</td>
<td>1627.0</td>
<td>280.0</td>
<td>565.0</td>
<td>259.0</td>
<td>3.8462</td>
<td>342200.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20635</td>
<td>-121.09</td>
<td>39.48</td>
<td>25.0</td>
<td>1665.0</td>
<td>374.0</td>
<td>845.0</td>
<td>330.0</td>
<td>1.5603</td>
<td>78100.0</td>
<td>INLAND</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20636</td>
<td>-121.21</td>
<td>39.49</td>
<td>18.0</td>
<td>697.0</td>
<td>150.0</td>
<td>356.0</td>
<td>114.0</td>
<td>2.5568</td>
<td>77100.0</td>
<td>INLAND</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20637</td>
<td>-121.22</td>
<td>39.43</td>
<td>17.0</td>
<td>2254.0</td>
<td>485.0</td>
<td>1007.0</td>
<td>433.0</td>
<td>1.7000</td>
<td>92300.0</td>
<td>INLAND</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20638</td>
<td>-121.32</td>
<td>39.43</td>
<td>18.0</td>
<td>1860.0</td>
<td>409.0</td>
<td>741.0</td>
<td>349.0</td>
<td>1.8672</td>
<td>84700.0</td>
<td>INLAND</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20639</td>
<td>-121.24</td>
<td>39.37</td>
<td>16.0</td>
<td>2785.0</td>
<td>616.0</td>
<td>1387.0</td>
<td>530.0</td>
<td>2.3886</td>
<td>89400.0</td>
<td>INLAND</td>
</tr>
</tbody>
</table>

<p>20640 rows × 10 columns</p>
</div>
</div>
</div>
</div>
<div id="56788f15" class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>df_housing.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 20640 entries, 0 to 20639
Data columns (total 10 columns):
 #   Column              Non-Null Count  Dtype  
---  ------              --------------  -----  
 0   longitude           20640 non-null  float64
 1   latitude            20640 non-null  float64
 2   housing_median_age  20640 non-null  float64
 3   total_rooms         20640 non-null  float64
 4   total_bedrooms      20433 non-null  float64
 5   population          20640 non-null  float64
 6   households          20640 non-null  float64
 7   median_income       20640 non-null  float64
 8   median_house_value  20640 non-null  float64
 9   ocean_proximity     20640 non-null  object 
dtypes: float64(9), object(1)
memory usage: 1.6+ MB</code></pre>
</div>
</div>
<p>Ada satu data kategorik, yaitu <code>ocean_proximity</code>. Mari kita liat jenis-jenisnya (kategorinya):</p>
<div id="d43d6dcc" class="cell" data-execution_count="75">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>df_housing[<span class="st">"ocean_proximity"</span>].value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="75">
<pre><code>ocean_proximity
&lt;1H OCEAN     9136
INLAND        6551
NEAR OCEAN    2658
NEAR BAY      2290
ISLAND           5
Name: count, dtype: int64</code></pre>
</div>
</div>
<p>Perhatikan bahwa data kategorik tersebut berisi nilai-nilai yang tidak memiliki urutan atau skala, sehingga data kategorik tersebut merupakan data nominal</p>
<p>Selanjutnya cek, apakah ada missing value?</p>
<div id="539eb92e" class="cell" data-execution_count="77">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>df_housing.isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="77">
<pre><code>longitude               0
latitude                0
housing_median_age      0
total_rooms             0
total_bedrooms        207
population              0
households              0
median_income           0
median_house_value      0
ocean_proximity         0
dtype: int64</code></pre>
</div>
</div>
<div id="a803a95a" class="cell" data-execution_count="79">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>df_housing[df_housing[<span class="st">"total_bedrooms"</span>].isna()]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="79">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">housing_median_age</th>
<th data-quarto-table-cell-role="th">total_rooms</th>
<th data-quarto-table-cell-role="th">total_bedrooms</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">households</th>
<th data-quarto-table-cell-role="th">median_income</th>
<th data-quarto-table-cell-role="th">median_house_value</th>
<th data-quarto-table-cell-role="th">ocean_proximity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">290</td>
<td>-122.16</td>
<td>37.77</td>
<td>47.0</td>
<td>1256.0</td>
<td>NaN</td>
<td>570.0</td>
<td>218.0</td>
<td>4.3750</td>
<td>161900.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">341</td>
<td>-122.17</td>
<td>37.75</td>
<td>38.0</td>
<td>992.0</td>
<td>NaN</td>
<td>732.0</td>
<td>259.0</td>
<td>1.6196</td>
<td>85100.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">538</td>
<td>-122.28</td>
<td>37.78</td>
<td>29.0</td>
<td>5154.0</td>
<td>NaN</td>
<td>3741.0</td>
<td>1273.0</td>
<td>2.5762</td>
<td>173400.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">563</td>
<td>-122.24</td>
<td>37.75</td>
<td>45.0</td>
<td>891.0</td>
<td>NaN</td>
<td>384.0</td>
<td>146.0</td>
<td>4.9489</td>
<td>247100.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">696</td>
<td>-122.10</td>
<td>37.69</td>
<td>41.0</td>
<td>746.0</td>
<td>NaN</td>
<td>387.0</td>
<td>161.0</td>
<td>3.9063</td>
<td>178400.0</td>
<td>NEAR BAY</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20267</td>
<td>-119.19</td>
<td>34.20</td>
<td>18.0</td>
<td>3620.0</td>
<td>NaN</td>
<td>3171.0</td>
<td>779.0</td>
<td>3.3409</td>
<td>220500.0</td>
<td>NEAR OCEAN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20268</td>
<td>-119.18</td>
<td>34.19</td>
<td>19.0</td>
<td>2393.0</td>
<td>NaN</td>
<td>1938.0</td>
<td>762.0</td>
<td>1.6953</td>
<td>167400.0</td>
<td>NEAR OCEAN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20372</td>
<td>-118.88</td>
<td>34.17</td>
<td>15.0</td>
<td>4260.0</td>
<td>NaN</td>
<td>1701.0</td>
<td>669.0</td>
<td>5.1033</td>
<td>410700.0</td>
<td>&lt;1H OCEAN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20460</td>
<td>-118.75</td>
<td>34.29</td>
<td>17.0</td>
<td>5512.0</td>
<td>NaN</td>
<td>2734.0</td>
<td>814.0</td>
<td>6.6073</td>
<td>258100.0</td>
<td>&lt;1H OCEAN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20484</td>
<td>-118.72</td>
<td>34.28</td>
<td>17.0</td>
<td>3051.0</td>
<td>NaN</td>
<td>1705.0</td>
<td>495.0</td>
<td>5.7376</td>
<td>218600.0</td>
<td>&lt;1H OCEAN</td>
</tr>
</tbody>
</table>

<p>207 rows × 10 columns</p>
</div>
</div>
</div>
</div>
<p>Perhatikan bahwa tipe datanya adalah <code>int64</code> atau bilangan bulat.</p>
<p>Dari 20640 baris, ada satu kolom/fitur (<code>total_bedrooms</code>) dengan 207 missing value.</p>
<section id="encoding-data-nominal-dengan-one-hot-encoding" class="level2">
<h2 class="anchored" data-anchor-id="encoding-data-nominal-dengan-one-hot-encoding">Encoding Data Nominal dengan One-Hot Encoding</h2>
<p>Metode yang sering digunakan untuk melakukan encoding data nominal adalah <em>one hot encoding</em>. Misalnya ada satu fitur kategorik dengan <span class="math inline">\(n\)</span> kemungkinan data, bernama <span class="math inline">\(D_i\)</span> untuk <span class="math inline">\(i = 1, 2, \dots, n\)</span>. Maka fitur tersebut diganti dengan <span class="math inline">\(n\)</span> kolom baru, misal bernama <span class="math inline">\(K_i\)</span> untuk <span class="math inline">\(i = 1, 2, \dots, n\)</span>, di mana pada kolom ke-i, isinya adalah</p>
<ul>
<li><span class="math inline">\(1\)</span>, apabila data aslinya pada baris tersebut adalah <span class="math inline">\(D_i\)</span></li>
<li><span class="math inline">\(0\)</span> apabila bukan <span class="math inline">\(D_i\)</span></li>
</ul>
<div id="02934dbf" class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> OneHotEncoder</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="1dcee6f3" class="cell" data-execution_count="80">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>encoder <span class="op">=</span> OneHotEncoder()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="39cf8721" class="cell" data-execution_count="82">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>hasil_onehot <span class="op">=</span> encoder.fit_transform(df_housing[[<span class="st">"ocean_proximity"</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="8d0d287d" class="cell" data-execution_count="83">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(encoder.categories_)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[array(['&lt;1H OCEAN', 'INLAND', 'ISLAND', 'NEAR BAY', 'NEAR OCEAN'],
      dtype=object)]</code></pre>
</div>
</div>
<div id="056584bc" class="cell" data-execution_count="84">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(encoder.categories_[<span class="dv">0</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['&lt;1H OCEAN' 'INLAND' 'ISLAND' 'NEAR BAY' 'NEAR OCEAN']</code></pre>
</div>
</div>
<div id="3bf1484d" class="cell" data-execution_count="85">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>kolom_encoding <span class="op">=</span> <span class="bu">list</span>(encoder.categories_[<span class="dv">0</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="c1d8df0d" class="cell" data-execution_count="86">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>onehot_array <span class="op">=</span> hasil_onehot.toarray()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="0ef53fc1" class="cell" data-execution_count="87">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(onehot_array)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[0. 0. 0. 1. 0.]
 [0. 0. 0. 1. 0.]
 [0. 0. 0. 1. 0.]
 ...
 [0. 1. 0. 0. 0.]
 [0. 1. 0. 0. 0.]
 [0. 1. 0. 0. 0.]]</code></pre>
</div>
</div>
<div id="466ddb2e" class="cell" data-execution_count="88">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>onehot_df <span class="op">=</span> pd.DataFrame(onehot_array, columns<span class="op">=</span>kolom_encoding)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="f622205e" class="cell" data-execution_count="89">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>onehot_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="89">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">&lt;1H OCEAN</th>
<th data-quarto-table-cell-role="th">INLAND</th>
<th data-quarto-table-cell-role="th">ISLAND</th>
<th data-quarto-table-cell-role="th">NEAR BAY</th>
<th data-quarto-table-cell-role="th">NEAR OCEAN</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20635</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20636</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20637</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20638</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20639</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
</tbody>
</table>

<p>20640 rows × 5 columns</p>
</div>
</div>
</div>
</div>
<p>Setelah dilakukan one-hot encoding, gabungkan dataframenya dengan dataframe awal</p>
<div id="769d0259" class="cell" data-execution_count="90">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>df_housing <span class="op">=</span> pd.concat([df_housing, onehot_df], axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="82db0dd6" class="cell" data-execution_count="91">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>df_housing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="91">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">housing_median_age</th>
<th data-quarto-table-cell-role="th">total_rooms</th>
<th data-quarto-table-cell-role="th">total_bedrooms</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">households</th>
<th data-quarto-table-cell-role="th">median_income</th>
<th data-quarto-table-cell-role="th">median_house_value</th>
<th data-quarto-table-cell-role="th">ocean_proximity</th>
<th data-quarto-table-cell-role="th">&lt;1H OCEAN</th>
<th data-quarto-table-cell-role="th">INLAND</th>
<th data-quarto-table-cell-role="th">ISLAND</th>
<th data-quarto-table-cell-role="th">NEAR BAY</th>
<th data-quarto-table-cell-role="th">NEAR OCEAN</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>-122.23</td>
<td>37.88</td>
<td>41.0</td>
<td>880.0</td>
<td>129.0</td>
<td>322.0</td>
<td>126.0</td>
<td>8.3252</td>
<td>452600.0</td>
<td>NEAR BAY</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>-122.22</td>
<td>37.86</td>
<td>21.0</td>
<td>7099.0</td>
<td>1106.0</td>
<td>2401.0</td>
<td>1138.0</td>
<td>8.3014</td>
<td>358500.0</td>
<td>NEAR BAY</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>-122.24</td>
<td>37.85</td>
<td>52.0</td>
<td>1467.0</td>
<td>190.0</td>
<td>496.0</td>
<td>177.0</td>
<td>7.2574</td>
<td>352100.0</td>
<td>NEAR BAY</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>-122.25</td>
<td>37.85</td>
<td>52.0</td>
<td>1274.0</td>
<td>235.0</td>
<td>558.0</td>
<td>219.0</td>
<td>5.6431</td>
<td>341300.0</td>
<td>NEAR BAY</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>-122.25</td>
<td>37.85</td>
<td>52.0</td>
<td>1627.0</td>
<td>280.0</td>
<td>565.0</td>
<td>259.0</td>
<td>3.8462</td>
<td>342200.0</td>
<td>NEAR BAY</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20635</td>
<td>-121.09</td>
<td>39.48</td>
<td>25.0</td>
<td>1665.0</td>
<td>374.0</td>
<td>845.0</td>
<td>330.0</td>
<td>1.5603</td>
<td>78100.0</td>
<td>INLAND</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20636</td>
<td>-121.21</td>
<td>39.49</td>
<td>18.0</td>
<td>697.0</td>
<td>150.0</td>
<td>356.0</td>
<td>114.0</td>
<td>2.5568</td>
<td>77100.0</td>
<td>INLAND</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20637</td>
<td>-121.22</td>
<td>39.43</td>
<td>17.0</td>
<td>2254.0</td>
<td>485.0</td>
<td>1007.0</td>
<td>433.0</td>
<td>1.7000</td>
<td>92300.0</td>
<td>INLAND</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20638</td>
<td>-121.32</td>
<td>39.43</td>
<td>18.0</td>
<td>1860.0</td>
<td>409.0</td>
<td>741.0</td>
<td>349.0</td>
<td>1.8672</td>
<td>84700.0</td>
<td>INLAND</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20639</td>
<td>-121.24</td>
<td>39.37</td>
<td>16.0</td>
<td>2785.0</td>
<td>616.0</td>
<td>1387.0</td>
<td>530.0</td>
<td>2.3886</td>
<td>89400.0</td>
<td>INLAND</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
</tbody>
</table>

<p>20640 rows × 15 columns</p>
</div>
</div>
</div>
</div>
<div id="0cb5fc50" class="cell" data-execution_count="92">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>df_housing <span class="op">=</span> df_housing.drop([<span class="st">"ocean_proximity"</span>], axis<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="a21ba53f" class="cell" data-execution_count="93">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>df_housing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="93">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">housing_median_age</th>
<th data-quarto-table-cell-role="th">total_rooms</th>
<th data-quarto-table-cell-role="th">total_bedrooms</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">households</th>
<th data-quarto-table-cell-role="th">median_income</th>
<th data-quarto-table-cell-role="th">median_house_value</th>
<th data-quarto-table-cell-role="th">&lt;1H OCEAN</th>
<th data-quarto-table-cell-role="th">INLAND</th>
<th data-quarto-table-cell-role="th">ISLAND</th>
<th data-quarto-table-cell-role="th">NEAR BAY</th>
<th data-quarto-table-cell-role="th">NEAR OCEAN</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>-122.23</td>
<td>37.88</td>
<td>41.0</td>
<td>880.0</td>
<td>129.0</td>
<td>322.0</td>
<td>126.0</td>
<td>8.3252</td>
<td>452600.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>-122.22</td>
<td>37.86</td>
<td>21.0</td>
<td>7099.0</td>
<td>1106.0</td>
<td>2401.0</td>
<td>1138.0</td>
<td>8.3014</td>
<td>358500.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>-122.24</td>
<td>37.85</td>
<td>52.0</td>
<td>1467.0</td>
<td>190.0</td>
<td>496.0</td>
<td>177.0</td>
<td>7.2574</td>
<td>352100.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>-122.25</td>
<td>37.85</td>
<td>52.0</td>
<td>1274.0</td>
<td>235.0</td>
<td>558.0</td>
<td>219.0</td>
<td>5.6431</td>
<td>341300.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>-122.25</td>
<td>37.85</td>
<td>52.0</td>
<td>1627.0</td>
<td>280.0</td>
<td>565.0</td>
<td>259.0</td>
<td>3.8462</td>
<td>342200.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20635</td>
<td>-121.09</td>
<td>39.48</td>
<td>25.0</td>
<td>1665.0</td>
<td>374.0</td>
<td>845.0</td>
<td>330.0</td>
<td>1.5603</td>
<td>78100.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20636</td>
<td>-121.21</td>
<td>39.49</td>
<td>18.0</td>
<td>697.0</td>
<td>150.0</td>
<td>356.0</td>
<td>114.0</td>
<td>2.5568</td>
<td>77100.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20637</td>
<td>-121.22</td>
<td>39.43</td>
<td>17.0</td>
<td>2254.0</td>
<td>485.0</td>
<td>1007.0</td>
<td>433.0</td>
<td>1.7000</td>
<td>92300.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20638</td>
<td>-121.32</td>
<td>39.43</td>
<td>18.0</td>
<td>1860.0</td>
<td>409.0</td>
<td>741.0</td>
<td>349.0</td>
<td>1.8672</td>
<td>84700.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20639</td>
<td>-121.24</td>
<td>39.37</td>
<td>16.0</td>
<td>2785.0</td>
<td>616.0</td>
<td>1387.0</td>
<td>530.0</td>
<td>2.3886</td>
<td>89400.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
</tbody>
</table>

<p>20640 rows × 14 columns</p>
</div>
</div>
</div>
</div>
</section>
<section id="encoding-data-ordinal-dengan-label-encoding-ordinal-encoding-todo" class="level2">
<h2 class="anchored" data-anchor-id="encoding-data-ordinal-dengan-label-encoding-ordinal-encoding-todo">Encoding Data Ordinal dengan Label Encoding &amp; Ordinal Encoding (TODO)</h2>
<div id="90d74e7e" class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> LabelEncoder, OrdinalEncoder</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="mengatasi-missing-value-dengan-metode-imputasi" class="level1">
<h1>Mengatasi Missing Value dengan Metode Imputasi</h1>
<p>Pada dataset <code>df_housing</code>, banyaknya <em>missing value</em> relatif sedikit, sebenarnya tidak masalah apabila baris-baris tersebut cukup dihapus saja. Namun, kita akan gunakan untuk mempelajari metode imputasi.</p>
<section id="median" class="level2">
<h2 class="anchored" data-anchor-id="median">Median</h2>
<div id="6def0dfc" class="cell" data-execution_count="94">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>df_fill_median <span class="op">=</span> df_housing.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="7e571285" class="cell" data-execution_count="95">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>df_housing[<span class="st">"total_bedrooms"</span>].median()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="95">
<pre><code>435.0</code></pre>
</div>
</div>
<div id="28ba4ea9" class="cell" data-execution_count="96">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>bedrooms_median <span class="op">=</span> df_housing[<span class="st">"total_bedrooms"</span>].median()</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(bedrooms_median)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>435.0</code></pre>
</div>
</div>
<div id="00ccbdbc" class="cell" data-execution_count="97">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>df_fill_median[<span class="st">"total_bedrooms"</span>] <span class="op">=</span> df_fill_median[<span class="st">"total_bedrooms"</span>].fillna(bedrooms_median)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="80ab6861" class="cell" data-execution_count="98">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>df_fill_median.isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="98">
<pre><code>longitude             0
latitude              0
housing_median_age    0
total_rooms           0
total_bedrooms        0
population            0
households            0
median_income         0
median_house_value    0
&lt;1H OCEAN             0
INLAND                0
ISLAND                0
NEAR BAY              0
NEAR OCEAN            0
dtype: int64</code></pre>
</div>
</div>
<p>Cara lain, menggunakan scikit-learn:</p>
<div id="b213ac9c" class="cell" data-execution_count="100">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>df_fill_median2 <span class="op">=</span> df_housing.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="c1366c30" class="cell" data-execution_count="101">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.impute <span class="im">import</span> SimpleImputer</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="90125eb6" class="cell" data-execution_count="102">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>median_imputer <span class="op">=</span> SimpleImputer(</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>    missing_values<span class="op">=</span>np.nan, strategy<span class="op">=</span><span class="st">'median'</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="6ba9ff09" class="cell" data-execution_count="103">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>df_fill_median2[[<span class="st">"total_bedrooms"</span>]] <span class="op">=</span> median_imputer.fit_transform(</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>    df_fill_median2[[<span class="st">"total_bedrooms"</span>]]</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="462f6db4" class="cell" data-execution_count="104">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>df_fill_median2.isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="104">
<pre><code>longitude             0
latitude              0
housing_median_age    0
total_rooms           0
total_bedrooms        0
population            0
households            0
median_income         0
median_house_value    0
&lt;1H OCEAN             0
INLAND                0
ISLAND                0
NEAR BAY              0
NEAR OCEAN            0
dtype: int64</code></pre>
</div>
</div>
</section>
<section id="modus" class="level2">
<h2 class="anchored" data-anchor-id="modus">Modus</h2>
<div id="63168052" class="cell" data-execution_count="105">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>df_fill_mode <span class="op">=</span> df_housing.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="de4588cd" class="cell" data-execution_count="106">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>df_housing[<span class="st">"total_bedrooms"</span>].mode()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="106">
<pre><code>0    280.0
Name: total_bedrooms, dtype: float64</code></pre>
</div>
</div>
<div id="9879144d" class="cell" data-execution_count="107">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>df_housing[<span class="st">"total_bedrooms"</span>].mode()[<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="107">
<pre><code>280.0</code></pre>
</div>
</div>
<div id="a61a60f0" class="cell" data-execution_count="108">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>bedrooms_mode <span class="op">=</span> df_housing[<span class="st">"total_bedrooms"</span>].mode()[<span class="dv">0</span>]</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(bedrooms_mode)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>280.0</code></pre>
</div>
</div>
<div id="1feec15d" class="cell" data-execution_count="109">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>df_fill_mode[<span class="st">"total_bedrooms"</span>] <span class="op">=</span> df_fill_mode[<span class="st">"total_bedrooms"</span>].fillna(bedrooms_mode)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="253194a0" class="cell" data-execution_count="110">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>df_fill_mode.isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="110">
<pre><code>longitude             0
latitude              0
housing_median_age    0
total_rooms           0
total_bedrooms        0
population            0
households            0
median_income         0
median_house_value    0
&lt;1H OCEAN             0
INLAND                0
ISLAND                0
NEAR BAY              0
NEAR OCEAN            0
dtype: int64</code></pre>
</div>
</div>
<p>Cara lain, menggunakan scikit-learn:</p>
<div id="9a84eaf1" class="cell" data-execution_count="111">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>df_fill_mode2 <span class="op">=</span> df_housing.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="9c37fa08" class="cell" data-execution_count="112">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>mode_imputer <span class="op">=</span> SimpleImputer(</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>    missing_values<span class="op">=</span>np.nan, strategy<span class="op">=</span><span class="st">'most_frequent'</span></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="24830e9b" class="cell" data-execution_count="113">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>df_fill_mode2[[<span class="st">"total_bedrooms"</span>]] <span class="op">=</span> mode_imputer.fit_transform(</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>    df_fill_mode2[[<span class="st">"total_bedrooms"</span>]]</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="e855130f" class="cell" data-execution_count="114">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>df_fill_mode2.isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="114">
<pre><code>longitude             0
latitude              0
housing_median_age    0
total_rooms           0
total_bedrooms        0
population            0
households            0
median_income         0
median_house_value    0
&lt;1H OCEAN             0
INLAND                0
ISLAND                0
NEAR BAY              0
NEAR OCEAN            0
dtype: int64</code></pre>
</div>
</div>
</section>
<section id="mean" class="level2">
<h2 class="anchored" data-anchor-id="mean">Mean</h2>
<div id="0a941343" class="cell" data-execution_count="115">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>df_fill_mean <span class="op">=</span> df_housing.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="04d2cd25" class="cell" data-execution_count="116">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>df_fill_mean[<span class="st">"total_bedrooms"</span>].mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="116">
<pre><code>537.8705525375618</code></pre>
</div>
</div>
<div id="28fc0150" class="cell" data-execution_count="117">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>np.<span class="bu">round</span>(df_fill_mean[<span class="st">"total_bedrooms"</span>].mean())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="117">
<pre><code>538.0</code></pre>
</div>
</div>
<div id="64cb472e" class="cell" data-execution_count="118">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>bedrooms_mean <span class="op">=</span> np.<span class="bu">round</span>(df_fill_mean[<span class="st">"total_bedrooms"</span>].mean())</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(bedrooms_mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>538.0</code></pre>
</div>
</div>
<div id="600d4cb5" class="cell" data-execution_count="119">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>df_fill_mean[<span class="st">"total_bedrooms"</span>] <span class="op">=</span> df_fill_mean[<span class="st">"total_bedrooms"</span>].fillna(bedrooms_mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="78f81232" class="cell" data-execution_count="120">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>df_fill_mean.isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="120">
<pre><code>longitude             0
latitude              0
housing_median_age    0
total_rooms           0
total_bedrooms        0
population            0
households            0
median_income         0
median_house_value    0
&lt;1H OCEAN             0
INLAND                0
ISLAND                0
NEAR BAY              0
NEAR OCEAN            0
dtype: int64</code></pre>
</div>
</div>
<p>Cara lain, menggunakan scikit-learn:</p>
<div id="355bf00d" class="cell" data-execution_count="121">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>df_fill_mean2 <span class="op">=</span> df_housing.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="1395783a" class="cell" data-execution_count="122">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>mean_imputer <span class="op">=</span> SimpleImputer(</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>    missing_values<span class="op">=</span>np.nan, strategy<span class="op">=</span><span class="st">'mean'</span></span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="2d1ab248" class="cell" data-execution_count="123">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>df_fill_mean2[[<span class="st">"total_bedrooms"</span>]] <span class="op">=</span> mean_imputer.fit_transform(</span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>    df_fill_mean2[[<span class="st">"total_bedrooms"</span>]]</span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="1faaf819" class="cell" data-execution_count="124">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>df_fill_mean2.isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="124">
<pre><code>longitude             0
latitude              0
housing_median_age    0
total_rooms           0
total_bedrooms        0
population            0
households            0
median_income         0
median_house_value    0
&lt;1H OCEAN             0
INLAND                0
ISLAND                0
NEAR BAY              0
NEAR OCEAN            0
dtype: int64</code></pre>
</div>
</div>
</section>
<section id="knn-imputer" class="level2">
<h2 class="anchored" data-anchor-id="knn-imputer">KNN Imputer</h2>
<div id="fea27758" class="cell" data-execution_count="125">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.impute <span class="im">import</span> KNNImputer</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="6c33e49f" class="cell" data-execution_count="126">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>knn_imputer <span class="op">=</span> KNNImputer(n_neighbors<span class="op">=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="a5af62a1" class="cell" data-execution_count="128">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>df_fill_knn <span class="op">=</span> df_housing.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>KNN Imputer memerlukan kolom-kolom lainnya sebagai acuan, dan hanya bisa bekerja dengan data numerik. Sehingga, kita perlu mem-filter terlebih dahulu kolom-kolom numerik dari dataset kita.</p>
<div id="3df07df7" class="cell" data-execution_count="129">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>df_fill_knn.select_dtypes(include<span class="op">=</span><span class="st">'number'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="129">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">housing_median_age</th>
<th data-quarto-table-cell-role="th">total_rooms</th>
<th data-quarto-table-cell-role="th">total_bedrooms</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">households</th>
<th data-quarto-table-cell-role="th">median_income</th>
<th data-quarto-table-cell-role="th">median_house_value</th>
<th data-quarto-table-cell-role="th">&lt;1H OCEAN</th>
<th data-quarto-table-cell-role="th">INLAND</th>
<th data-quarto-table-cell-role="th">ISLAND</th>
<th data-quarto-table-cell-role="th">NEAR BAY</th>
<th data-quarto-table-cell-role="th">NEAR OCEAN</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>-122.23</td>
<td>37.88</td>
<td>41.0</td>
<td>880.0</td>
<td>129.0</td>
<td>322.0</td>
<td>126.0</td>
<td>8.3252</td>
<td>452600.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>-122.22</td>
<td>37.86</td>
<td>21.0</td>
<td>7099.0</td>
<td>1106.0</td>
<td>2401.0</td>
<td>1138.0</td>
<td>8.3014</td>
<td>358500.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>-122.24</td>
<td>37.85</td>
<td>52.0</td>
<td>1467.0</td>
<td>190.0</td>
<td>496.0</td>
<td>177.0</td>
<td>7.2574</td>
<td>352100.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>-122.25</td>
<td>37.85</td>
<td>52.0</td>
<td>1274.0</td>
<td>235.0</td>
<td>558.0</td>
<td>219.0</td>
<td>5.6431</td>
<td>341300.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>-122.25</td>
<td>37.85</td>
<td>52.0</td>
<td>1627.0</td>
<td>280.0</td>
<td>565.0</td>
<td>259.0</td>
<td>3.8462</td>
<td>342200.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20635</td>
<td>-121.09</td>
<td>39.48</td>
<td>25.0</td>
<td>1665.0</td>
<td>374.0</td>
<td>845.0</td>
<td>330.0</td>
<td>1.5603</td>
<td>78100.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20636</td>
<td>-121.21</td>
<td>39.49</td>
<td>18.0</td>
<td>697.0</td>
<td>150.0</td>
<td>356.0</td>
<td>114.0</td>
<td>2.5568</td>
<td>77100.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20637</td>
<td>-121.22</td>
<td>39.43</td>
<td>17.0</td>
<td>2254.0</td>
<td>485.0</td>
<td>1007.0</td>
<td>433.0</td>
<td>1.7000</td>
<td>92300.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20638</td>
<td>-121.32</td>
<td>39.43</td>
<td>18.0</td>
<td>1860.0</td>
<td>409.0</td>
<td>741.0</td>
<td>349.0</td>
<td>1.8672</td>
<td>84700.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20639</td>
<td>-121.24</td>
<td>39.37</td>
<td>16.0</td>
<td>2785.0</td>
<td>616.0</td>
<td>1387.0</td>
<td>530.0</td>
<td>2.3886</td>
<td>89400.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
</tbody>
</table>

<p>20640 rows × 14 columns</p>
</div>
</div>
</div>
</div>
<div id="e7c967a5" class="cell" data-execution_count="131">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>num_col <span class="op">=</span> df_fill_knn.select_dtypes(include<span class="op">=</span><span class="st">'number'</span>).columns</span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(num_col)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Index(['longitude', 'latitude', 'housing_median_age', 'total_rooms',
       'total_bedrooms', 'population', 'households', 'median_income',
       'median_house_value', '&lt;1H OCEAN', 'INLAND', 'ISLAND', 'NEAR BAY',
       'NEAR OCEAN'],
      dtype='object')</code></pre>
</div>
</div>
<div id="3254296b" class="cell" data-execution_count="132">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>df_fill_knn[num_col] <span class="op">=</span> knn_imputer.fit_transform(df_fill_knn[num_col])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="2f6499a0" class="cell" data-execution_count="133">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>df_fill_knn.isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="133">
<pre><code>longitude             0
latitude              0
housing_median_age    0
total_rooms           0
total_bedrooms        0
population            0
households            0
median_income         0
median_house_value    0
&lt;1H OCEAN             0
INLAND                0
ISLAND                0
NEAR BAY              0
NEAR OCEAN            0
dtype: int64</code></pre>
</div>
</div>
</section>
<section id="perbandingan-metode-imputasi" class="level2">
<h2 class="anchored" data-anchor-id="perbandingan-metode-imputasi">Perbandingan Metode Imputasi</h2>
<p>Kita bisa membandingkan beberapa metode imputasi (dan memilih yang mana yang terbaik) dengan langkah-langkah berikut.</p>
<ol type="1">
<li>Gunakan sample dari dataset awal yang tidak mengandung missing data (Sample data ini akan menjadi ground truth).</li>
<li>Perkenalkan proporsi data hilang yang meningkat secara acak (contoh 5–50 % dengan kenaikan data hilang 5%).</li>
<li>Lakukan metode imputasi dengan metode-metode yang ingin di bandingkan.</li>
<li>Hitung jumlahan error kuadrat antara data yang dilakukan imputasi dan data original, untuk setiap metode, dan setiap proporsi data yang hilang.</li>
</ol>
<p>Langkah pertama, kita perlu memperoleh sample dari dataset kita yang tidak mengandung <em>missing value</em>, yang bisa disebut <em>ground truth</em>. Cara termudah adalah dengan menghapus baris-baris yang memiliki <em>missing value</em> (biasanya dipilih lagi sample hanya sebagian baris, tapi di sini tidak kita lakukan):</p>
<div id="49069224" class="cell" data-execution_count="134">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>df_ground_truth <span class="op">=</span> df_housing.dropna()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="b0eecda9" class="cell" data-execution_count="136">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>df_ground_truth.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Index: 20433 entries, 0 to 20639
Data columns (total 14 columns):
 #   Column              Non-Null Count  Dtype  
---  ------              --------------  -----  
 0   longitude           20433 non-null  float64
 1   latitude            20433 non-null  float64
 2   housing_median_age  20433 non-null  float64
 3   total_rooms         20433 non-null  float64
 4   total_bedrooms      20433 non-null  float64
 5   population          20433 non-null  float64
 6   households          20433 non-null  float64
 7   median_income       20433 non-null  float64
 8   median_house_value  20433 non-null  float64
 9   &lt;1H OCEAN           20433 non-null  float64
 10  INLAND              20433 non-null  float64
 11  ISLAND              20433 non-null  float64
 12  NEAR BAY            20433 non-null  float64
 13  NEAR OCEAN          20433 non-null  float64
dtypes: float64(14)
memory usage: 2.3 MB</code></pre>
</div>
</div>
<p>Selanjutnya, kita perlu membolong-bolongi dataset ini, agar sekian persen diisi <em>missing value</em>.</p>
<div id="64b85048" class="cell" data-execution_count="137">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="07249216" class="cell" data-execution_count="138">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> missing_value_generator(df_original, percentage):</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>    df_miss <span class="op">=</span> df_original.copy()</span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>    baris, kolom <span class="op">=</span> df_miss.shape</span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a>    n_total <span class="op">=</span> baris<span class="op">*</span>kolom</span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a>    permutasi <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(n_total))</span>
<span id="cb131-7"><a href="#cb131-7" aria-hidden="true" tabindex="-1"></a>    random.shuffle(permutasi)</span>
<span id="cb131-8"><a href="#cb131-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-9"><a href="#cb131-9" aria-hidden="true" tabindex="-1"></a>    n_pilih <span class="op">=</span> <span class="bu">int</span>(percentage <span class="op">*</span> n_total)</span>
<span id="cb131-10"><a href="#cb131-10" aria-hidden="true" tabindex="-1"></a>    pilihan <span class="op">=</span> permutasi[<span class="dv">0</span> : n_pilih]</span>
<span id="cb131-11"><a href="#cb131-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-12"><a href="#cb131-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> p <span class="kw">in</span> pilihan:</span>
<span id="cb131-13"><a href="#cb131-13" aria-hidden="true" tabindex="-1"></a>        df_miss.iloc[ <span class="bu">int</span>(p<span class="op">/</span>kolom), p<span class="op">%</span>kolom ] <span class="op">=</span> np.nan</span>
<span id="cb131-14"><a href="#cb131-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb131-15"><a href="#cb131-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> df_miss</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="b634013f" class="cell" data-execution_count="139">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>df_miss_5 <span class="op">=</span> missing_value_generator(df_housing, <span class="fl">0.05</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="32d1e37b" class="cell" data-execution_count="140">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>df_miss_5.isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="140">
<pre><code>longitude             1112
latitude              1032
housing_median_age    1051
total_rooms           1005
total_bedrooms        1170
population            1000
households            1026
median_income         1052
median_house_value    1021
&lt;1H OCEAN             1041
INLAND                1066
ISLAND                1036
NEAR BAY              1020
NEAR OCEAN            1018
dtype: int64</code></pre>
</div>
</div>
<div id="57b726cb" class="cell" data-execution_count="141">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> compare_imputation(df_ground_truth, methods, percentages):</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>    list_missing_df <span class="op">=</span> []</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> percent <span class="kw">in</span> percentages:</span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a>        df_miss <span class="op">=</span> missing_value_generator(df_ground_truth, percent)</span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a>        list_missing_df.append(df_miss)</span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-7"><a href="#cb135-7" aria-hidden="true" tabindex="-1"></a>    all_results <span class="op">=</span> []</span>
<span id="cb135-8"><a href="#cb135-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> method <span class="kw">in</span> methods:</span>
<span id="cb135-9"><a href="#cb135-9" aria-hidden="true" tabindex="-1"></a>        method_results <span class="op">=</span> []</span>
<span id="cb135-10"><a href="#cb135-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> df_miss <span class="kw">in</span> list_missing_df:</span>
<span id="cb135-11"><a href="#cb135-11" aria-hidden="true" tabindex="-1"></a>            df_imputed <span class="op">=</span> method.fit_transform(df_miss)</span>
<span id="cb135-12"><a href="#cb135-12" aria-hidden="true" tabindex="-1"></a>            SSE <span class="op">=</span> ((df_ground_truth <span class="op">-</span> df_imputed)<span class="op">**</span><span class="dv">2</span>).<span class="bu">sum</span>().<span class="bu">sum</span>()</span>
<span id="cb135-13"><a href="#cb135-13" aria-hidden="true" tabindex="-1"></a>            method_results.append(SSE)</span>
<span id="cb135-14"><a href="#cb135-14" aria-hidden="true" tabindex="-1"></a>        all_results.append(method_results)</span>
<span id="cb135-15"><a href="#cb135-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-16"><a href="#cb135-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> all_results</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="c0f481fe" class="cell" data-execution_count="142">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>median_imputer <span class="op">=</span> SimpleImputer(missing_values<span class="op">=</span>np.nan, strategy<span class="op">=</span><span class="st">'median'</span>)</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>mean_imputer <span class="op">=</span> SimpleImputer(missing_values<span class="op">=</span>np.nan, strategy<span class="op">=</span><span class="st">'mean'</span>)</span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a>mode_imputer <span class="op">=</span> SimpleImputer(missing_values<span class="op">=</span>np.nan, strategy<span class="op">=</span><span class="st">"most_frequent"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="fc4416e3" class="cell" data-execution_count="143">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>list_persen <span class="op">=</span> [<span class="fl">0.05</span>, <span class="fl">0.10</span>, <span class="fl">0.15</span>, <span class="fl">0.20</span>, <span class="fl">0.25</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="e8ecd349" class="cell" data-execution_count="144">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>all_results <span class="op">=</span> compare_imputation(</span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>    df_ground_truth,</span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>    [median_imputer, mean_imputer, mode_imputer],</span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>    list_persen</span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="13bb80e9" class="cell" data-execution_count="145">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>all_results</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="145">
<pre><code>[[13472556117040.742,
  29200125925218.32,
  44888219322432.08,
  58760057941823.1,
  71218852004932.02],
 [12893394505105.559,
  27585393139970.81,
  42959166785142.76,
  55771678195422.18,
  67446611118587.484],
 [98136114329477.44,
  203833066224326.94,
  320455690937897.0,
  406196187048687.2,
  505507295952070.3]]</code></pre>
</div>
</div>
<div id="e178c5f4" class="cell" data-execution_count="146">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Median:"</span>, all_results[<span class="dv">0</span>])</span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Mean:"</span>, all_results[<span class="dv">1</span>])</span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Mode:"</span>, all_results[<span class="dv">2</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Median: [13472556117040.742, 29200125925218.32, 44888219322432.08, 58760057941823.1, 71218852004932.02]
Mean: [12893394505105.559, 27585393139970.81, 42959166785142.76, 55771678195422.18, 67446611118587.484]
Mode: [98136114329477.44, 203833066224326.94, 320455690937897.0, 406196187048687.2, 505507295952070.3]</code></pre>
</div>
</div>
<div id="ae52d135" class="cell" data-execution_count="147">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>plt.plot(list_persen, all_results[<span class="dv">0</span>])</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>plt.plot(list_persen, all_results[<span class="dv">1</span>])</span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>plt.plot(list_persen, all_results[<span class="dv">2</span>])</span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a>plt.legend([<span class="st">"Median"</span>, <span class="st">"Mean"</span>, <span class="st">"Mode"</span>])</span>
<span id="cb143-5"><a href="#cb143-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="modul2_files/figure-html/cell-115-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Dari hasil tersebut, didapat bahwa secara keseluruhan, untuk setiap persentase missing values, metode imputasi dengan menggunakan mean menghasilkan SSE yang terkecil dibandingkan imputasi dengan median dan modus. Oleh karena itu, kita akan menggunakan metode imputasi menggunakan mean untuk mengisi missing value pada kolom “total_bedrooms” dari df asli.</p>
<div id="52ebe85a" class="cell" data-execution_count="148">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co"># melihat kembali df awal</span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>df_housing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="148">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">housing_median_age</th>
<th data-quarto-table-cell-role="th">total_rooms</th>
<th data-quarto-table-cell-role="th">total_bedrooms</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">households</th>
<th data-quarto-table-cell-role="th">median_income</th>
<th data-quarto-table-cell-role="th">median_house_value</th>
<th data-quarto-table-cell-role="th">&lt;1H OCEAN</th>
<th data-quarto-table-cell-role="th">INLAND</th>
<th data-quarto-table-cell-role="th">ISLAND</th>
<th data-quarto-table-cell-role="th">NEAR BAY</th>
<th data-quarto-table-cell-role="th">NEAR OCEAN</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>-122.23</td>
<td>37.88</td>
<td>41.0</td>
<td>880.0</td>
<td>129.0</td>
<td>322.0</td>
<td>126.0</td>
<td>8.3252</td>
<td>452600.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>-122.22</td>
<td>37.86</td>
<td>21.0</td>
<td>7099.0</td>
<td>1106.0</td>
<td>2401.0</td>
<td>1138.0</td>
<td>8.3014</td>
<td>358500.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>-122.24</td>
<td>37.85</td>
<td>52.0</td>
<td>1467.0</td>
<td>190.0</td>
<td>496.0</td>
<td>177.0</td>
<td>7.2574</td>
<td>352100.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>-122.25</td>
<td>37.85</td>
<td>52.0</td>
<td>1274.0</td>
<td>235.0</td>
<td>558.0</td>
<td>219.0</td>
<td>5.6431</td>
<td>341300.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>-122.25</td>
<td>37.85</td>
<td>52.0</td>
<td>1627.0</td>
<td>280.0</td>
<td>565.0</td>
<td>259.0</td>
<td>3.8462</td>
<td>342200.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20635</td>
<td>-121.09</td>
<td>39.48</td>
<td>25.0</td>
<td>1665.0</td>
<td>374.0</td>
<td>845.0</td>
<td>330.0</td>
<td>1.5603</td>
<td>78100.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20636</td>
<td>-121.21</td>
<td>39.49</td>
<td>18.0</td>
<td>697.0</td>
<td>150.0</td>
<td>356.0</td>
<td>114.0</td>
<td>2.5568</td>
<td>77100.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20637</td>
<td>-121.22</td>
<td>39.43</td>
<td>17.0</td>
<td>2254.0</td>
<td>485.0</td>
<td>1007.0</td>
<td>433.0</td>
<td>1.7000</td>
<td>92300.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20638</td>
<td>-121.32</td>
<td>39.43</td>
<td>18.0</td>
<td>1860.0</td>
<td>409.0</td>
<td>741.0</td>
<td>349.0</td>
<td>1.8672</td>
<td>84700.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20639</td>
<td>-121.24</td>
<td>39.37</td>
<td>16.0</td>
<td>2785.0</td>
<td>616.0</td>
<td>1387.0</td>
<td>530.0</td>
<td>2.3886</td>
<td>89400.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
</tbody>
</table>

<p>20640 rows × 14 columns</p>
</div>
</div>
</div>
</div>
<div id="522bda0b" class="cell" data-execution_count="149">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>df_housing.isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="149">
<pre><code>longitude               0
latitude                0
housing_median_age      0
total_rooms             0
total_bedrooms        207
population              0
households              0
median_income           0
median_house_value      0
&lt;1H OCEAN               0
INLAND                  0
ISLAND                  0
NEAR BAY                0
NEAR OCEAN              0
dtype: int64</code></pre>
</div>
</div>
<div id="104219f2" class="cell" data-execution_count="152">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="co"># lakukan imputasi dengan metode terbaik yg telah didapat, yaitu dengan mean</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>df_housing[[<span class="st">'total_bedrooms'</span>]] <span class="op">=</span> mean_imputer.fit_transform(df_housing[[<span class="st">'total_bedrooms'</span>]] )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="054ae037" class="cell" data-execution_count="153">
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>df_housing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="153">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">longitude</th>
<th data-quarto-table-cell-role="th">latitude</th>
<th data-quarto-table-cell-role="th">housing_median_age</th>
<th data-quarto-table-cell-role="th">total_rooms</th>
<th data-quarto-table-cell-role="th">total_bedrooms</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">households</th>
<th data-quarto-table-cell-role="th">median_income</th>
<th data-quarto-table-cell-role="th">median_house_value</th>
<th data-quarto-table-cell-role="th">&lt;1H OCEAN</th>
<th data-quarto-table-cell-role="th">INLAND</th>
<th data-quarto-table-cell-role="th">ISLAND</th>
<th data-quarto-table-cell-role="th">NEAR BAY</th>
<th data-quarto-table-cell-role="th">NEAR OCEAN</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>-122.23</td>
<td>37.88</td>
<td>41.0</td>
<td>880.0</td>
<td>129.0</td>
<td>322.0</td>
<td>126.0</td>
<td>8.3252</td>
<td>452600.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>-122.22</td>
<td>37.86</td>
<td>21.0</td>
<td>7099.0</td>
<td>1106.0</td>
<td>2401.0</td>
<td>1138.0</td>
<td>8.3014</td>
<td>358500.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>-122.24</td>
<td>37.85</td>
<td>52.0</td>
<td>1467.0</td>
<td>190.0</td>
<td>496.0</td>
<td>177.0</td>
<td>7.2574</td>
<td>352100.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>-122.25</td>
<td>37.85</td>
<td>52.0</td>
<td>1274.0</td>
<td>235.0</td>
<td>558.0</td>
<td>219.0</td>
<td>5.6431</td>
<td>341300.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>-122.25</td>
<td>37.85</td>
<td>52.0</td>
<td>1627.0</td>
<td>280.0</td>
<td>565.0</td>
<td>259.0</td>
<td>3.8462</td>
<td>342200.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20635</td>
<td>-121.09</td>
<td>39.48</td>
<td>25.0</td>
<td>1665.0</td>
<td>374.0</td>
<td>845.0</td>
<td>330.0</td>
<td>1.5603</td>
<td>78100.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20636</td>
<td>-121.21</td>
<td>39.49</td>
<td>18.0</td>
<td>697.0</td>
<td>150.0</td>
<td>356.0</td>
<td>114.0</td>
<td>2.5568</td>
<td>77100.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20637</td>
<td>-121.22</td>
<td>39.43</td>
<td>17.0</td>
<td>2254.0</td>
<td>485.0</td>
<td>1007.0</td>
<td>433.0</td>
<td>1.7000</td>
<td>92300.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">20638</td>
<td>-121.32</td>
<td>39.43</td>
<td>18.0</td>
<td>1860.0</td>
<td>409.0</td>
<td>741.0</td>
<td>349.0</td>
<td>1.8672</td>
<td>84700.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20639</td>
<td>-121.24</td>
<td>39.37</td>
<td>16.0</td>
<td>2785.0</td>
<td>616.0</td>
<td>1387.0</td>
<td>530.0</td>
<td>2.3886</td>
<td>89400.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
</tbody>
</table>

<p>20640 rows × 14 columns</p>
</div>
</div>
</div>
</div>
<div id="96c304af" class="cell" data-execution_count="155">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>df_housing.isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="155">
<pre><code>longitude             0
latitude              0
housing_median_age    0
total_rooms           0
total_bedrooms        0
population            0
households            0
median_income         0
median_house_value    0
&lt;1H OCEAN             0
INLAND                0
ISLAND                0
NEAR BAY              0
NEAR OCEAN            0
dtype: int64</code></pre>
</div>
</div>
</section>
<section id="export-dataframe-yang-telah-diimputasi-ke-csv" class="level2">
<h2 class="anchored" data-anchor-id="export-dataframe-yang-telah-diimputasi-ke-csv">Export Dataframe yang telah diimputasi ke CSV</h2>
<div id="35c9830d" class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>df_housing.to_csv(<span class="st">"housing_modified.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>